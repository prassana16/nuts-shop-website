(self.modernJsonp=self.modernJsonp||[]).push([["7236"],{74300:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var o=i(a(667294)),s=i(a(515244));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,o)}return a}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function a(){var e;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var t,i,r=arguments.length,d=Array(r),_=0;_<r;_++)d[_]=arguments[_];return i=(e=(t=n(a)).call.apply(t,[this].concat(d)))&&("object"===l(e)||"function"==typeof e)?e:c(this),u(c(i),"onClick",function(e){var t=i.props,a=t.text,l=t.onCopy,r=t.children,n=t.options,c=o.default.Children.only(r),d=(0,s.default)(a,n);l&&l(a,d),c&&c.props&&"function"==typeof c.props.onClick&&c.props.onClick(e)}),i}return a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),e&&d(a,e),t=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),a=function(e,t){if(null==e)return{};var a,o,s=function(e,t){if(null==e)return{};var a,o,s={},i=Object.keys(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(e,["text","onCopy","options","children"]),s=o.default.Children.only(t);return o.default.cloneElement(s,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach(function(t){u(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a,{onClick:this.onClick}))}}],function(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(a.prototype,t),a}(o.default.PureComponent);t.CopyToClipboard=_,u(_,"defaultProps",{onCopy:void 0,options:void 0})},774855:function(e,t,a){var o=a(74300).CopyToClipboard;o.CopyToClipboard=o,e.exports=o},515244:function(e,t,a){var o=a(111742);e.exports=function(e,t){var a,s,i,l,r,n,c,d,u=!1;t||(t={}),i=t.debug||!1;try{if(r=o(),n=document.createRange(),c=document.getSelection(),(d=document.createElement("span")).textContent=e,d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",document.body.appendChild(d),n.selectNode(d),c.addRange(n),!document.execCommand("copy"))throw Error("copy command was unsuccessful");u=!0}catch(o){i&&console.error("unable to copy using execCommand: ",o),i&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),u=!0}catch(o){i&&console.error("unable to copy using clipboardData: ",o),i&&console.error("falling back to prompt"),a="message"in t?t.message:"Copy to clipboard: #{key}, Enter",s=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C",l=a.replace(/#{\s*key\s*}/g,s),window.prompt(l,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(n):c.removeAllRanges()),d&&document.body.removeChild(d),r()}return u}},111742:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,a=[],o=0;o<e.rangeCount;o++)a.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||a.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},254636:function(e,t,a){a.d(t,{Z:()=>v});var o=a(686659),s=a(667294),i=a(581722),l=a(740097),r=a(27399),n=a(440077),c=a(935059),d=a(24246),u=a(774838),_=a(352507),m=a(233165),h=a(33529),g=a(955994),p=a(785893);function f(e,t,a){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let b={border:`1px solid ${n.bJI}`,outline:`2px solid ${n.nTo}`},x={alignItems:"center",backgroundColor:"#efefef",border:"none",cursor:"pointer",display:"flex",flexGrow:1,height:40,justifyContent:"space-between",minWidth:0,outline:0,padding:"0 14px",position:"relative"},y={border:"none",cursor:"pointer",flex:"none",height:40,outline:0,padding:"0 14px"};class C extends s.Component{constructor(...e){super(...e),f(this,"state",{selectedBoard:null,showBoardCreate:!1,showFlyout:!1,suggestedBoardName:"",dropdownFocused:!1}),f(this,"_setDefaultBoard",()=>{r.Z.create("BoardPickerBoardsResource",{field_set_key:"board_picker",sort:"last_pinned_to",onlyFetchBoards:!0}).callGet({showError:!1}).then(e=>{let t=(((e||{}).resource_response||{}).data||{}).all_boards;if(t&&t.length>0){let{id:e,image_cover_url:a,owner:o,privacy:s,name:i,url:l}=t[0];if(this.props.selectedItem)return;this.handleItemChosen({boardId:e,imageCoverUrl:a,ownerUsername:o?.username,privacy:s,title:i||"",url:l},!1)}})}),f(this,"setButtonRef",e=>{this.buttonRef=e}),f(this,"handleBoardDropdownClick",()=>{this.setState(e=>({showFlyout:!e.showFlyout}))}),f(this,"handleSaveButtonClick",()=>{let{onSaveClick:e,selectedItem:t,disabledBoardPicker:a}=this.props;(t||a)&&e?e():this.setState({showFlyout:!0})}),f(this,"handleFlyoutClose",()=>{this.setState({showFlyout:!1}),this.buttonRef?.focus()}),f(this,"handleItemChosen",(e,t=!0)=>{let{onItemChosen:a}=this.props;a(e),t&&this.handleFlyoutClose()}),f(this,"handleCreateSection",e=>{let{selectedBoard:t}=this.state;if(t){let{id:a,privacy:o}=t,{id:s,title:i}=e;this.handleItemChosen({boardId:a,privacy:o,sectionId:s,title:i||""})}this.handleBoardCreateClose()}),f(this,"handleBoardCreateShow",({title:e})=>{this.setState({showBoardCreate:!0,showFlyout:!1,suggestedBoardName:e})}),f(this,"handleBoardCreateClose",()=>{this.setState({showBoardCreate:!1,selectedBoard:null})}),f(this,"handleBoardCreate",e=>{this.props.invalidateBoardPickerBoardsResource();let{id:t,name:a,privacy:o,url:s}=e;this.handleItemChosen({boardId:t,privacy:o,title:a||"",url:s}),this.handleBoardCreateClose()}),f(this,"handleSetBoardWithSection",e=>{this.setState({selectedBoard:e})}),f(this,"handleDropdownFocused",()=>{this.setState({dropdownFocused:!0})}),f(this,"handleDropdownBlur",()=>{this.setState({dropdownFocused:!1})})}componentDidMount(){(0,o.Z)("BoardDropdown","/app/common/react/components/BoardDropdown/BoardDropdown.tsx");let{selectedItem:e,useDefaultBoard:t=!1,disableDefaultBoard:a=!1}=this.props;!a&&(t?this._setDefaultBoard():e||this._setDefaultBoard())}render(){let e,{accessibilityLabelText:t,buttonText:a,customItem:o,disabled:i,disabledBoardPicker:r,flyoutSize:c,flyoutZIndex:d,hasError:u,idealDirection:_,onSaveClick:f,placeholder:C,requestContext:v,selectedItem:w,showBoardCover:P,showButton:A,showCreateBoardButton:z,showFlyoutSaveButton:j,showSections:I,showSectionSaveButton:k,boardFilter:S,useLayer:T,useStoryboardStyle:E,useCreateModalWithNoLayer:B,showSaveToProfile:Z}=this.props,{selectedBoard:R,showBoardCreate:O,showFlyout:M,suggestedBoardName:L,dropdownFocused:D}=this.state,{isRTL:N}=v,U=E?16:8,F=`${U}px 0 0 ${U}px`,W=`0 ${U}px ${U}px 0`,{title:K}=w||{},H=P&&!!w&&K,Y=i||r,X={...E?(e=n.UTl,u&&(e=n.jKP),Y&&(e=n.cxq),{dropdown:{alignItems:"center",backgroundColor:`${Y?n.ilB:n.Wmm}`,border:`1px solid ${e}`,cursor:Y?"default":"pointer",display:"flex",flexGrow:1,height:48,justifyContent:"space-between",minWidth:0,outline:0,position:"relative",borderRadius:16}}).dropdown:x,borderRadius:M||!A?U:N?W:F,padding:H?"0 14px 0 7px":"0 14px",cursor:Y?"default":"pointer",pointerEvents:Y?"none":"auto",...D?b:{}},V={...y,borderRadius:N?F:W,...i?{backgroundColor:"#efefef",cursor:"default"}:{},pointerEvents:i?"none":"auto"};return(0,p.jsxs)(l.xu,{column:12,dangerouslySetInlineStyle:{__style:{borderRadius:8,boxShadow:u&&!E?"0 0 0 1px #e60023":void 0,zIndex:M?d:void 0}},position:"relative",children:[(0,p.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,p.jsx)(l.iP,{ref:this.setButtonRef,accessibilityLabel:i?void 0:"","aria-expanded":M,dataTestId:"board-dropdown-select-button",disabled:i,onBlur:this.handleDropdownBlur,onFocus:this.handleDropdownFocused,onTap:this.handleBoardDropdownClick,rounding:4,children:(0,p.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:X},children:[(0,p.jsxs)(l.xu,{alignItems:"center","data-test-id":w?"board-dropdown-item-selected":"board-dropdown-placeholder",display:"flex",marginEnd:2,minWidth:0,overflow:"hidden",children:[H&&(0,p.jsx)(l.xu,{marginEnd:2,children:(0,p.jsx)(l.zd,{height:32,rounding:2,width:32,children:w?.imageCoverUrl?(0,p.jsx)(l.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:w.imageCoverUrl}):(0,p.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,p.jsx)(l.xv,{lineClamp:1,children:(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:w?"#111":"#6c6c6c"}},children:w&&K?K:C})})]}),(0,p.jsx)(l.xu,{flex:"none",marginEnd:-1,children:(0,p.jsx)(l.JO,{accessibilityLabel:M?this.props.i18n.bt("Close drop-down", "Close dropdown", "createPin.chooseBoardDropdown.iconButton.closeDropdown", undefined, true):this.props.i18n.bt("Open drop-down", "Open dropdown", "createPin.chooseBoardDropdown.iconButton.openDropdown", undefined, true),color:Y?"subtle":"default",icon:"arrow-down",size:12})})]})}),!M&&A&&(0,p.jsx)(l.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:V},display:"flex",justifyContent:"center",children:(0,p.jsx)(l.iP,{accessibilityLabel:i?void 0:"",dataTestId:"board-dropdown-save-button",disabled:i,onTap:this.handleSaveButtonClick,children:(0,p.jsx)(l.xv,{color:i?"subtle":"inverse",weight:"bold",children:a||this.props.i18n.bt("Save", "Save", "Button to create new Pin", undefined, true)})})})]}),M&&(0,p.jsx)(l.J2,{anchor:this.buttonRef,idealDirection:_||"down",onDismiss:this.handleFlyoutClose,size:c,children:(0,p.jsx)(h.sR,{accessibilityLabelText:t,boardFilter:S,buttonText:a,customItem:o&&(0,s.cloneElement)(o,{onItemChosen:this.handleFlyoutClose}),onBoardCreate:this.handleBoardCreateShow,onButtonClick:f,onItemChosen:this.handleItemChosen,paneWidth:"number"==typeof c?c:void 0,setBoardWithSection:this.handleSetBoardWithSection,showCreateBoardButton:z,showFlyoutSaveButton:j,showSaveToProfile:Z,showSections:I,showSectionSaveButton:k,useLegoLayout:!1,useStoryboardStyle:E})}),O&&!R&&(0,p.jsx)(m.Z,{boardCreateSource:"board_picker",onBoardCreate:this.handleBoardCreate,onClose:this.handleBoardCreateClose,showSecretBoardCreateToggle:"public"===S,suggestedBoardName:L,useModalWithNoLayer:B}),O&&!!R&&(0,p.jsx)(g.default,{onClose:this.handleBoardCreateClose,onSectionCreate:this.handleCreateSection,selectedBoard:R,useLayer:T})]})}}function v(e){(0,s.useEffect)(()=>{(0,o.Z)("BoardDropdown","/app/common/react/components/BoardDropdown/BoardDropdown.tsx")},[]);let t=(0,d.Z)(),a=(0,i.I0)(),l=(0,c.Z)(),r=(0,_.Z)();return(0,p.jsx)(C,{...e,i18n:t,invalidateBoardPickerBoardsResource:()=>a((0,h.DR)(l,r)),requestContext:(0,u.B)()})}f(C,"defaultProps",{flyoutSize:"lg",flyoutZIndex:1,showButton:!0,disabled:!1})},737368:function(e,t,a){a.d(t,{Z:()=>r});var o=a(686659),s=a(667294),i=a(740097),l=a(785893);function r(){return(0,s.useEffect)(()=>{(0,o.Z)("SettingsSectionSpinner","/app/common/react/components/settings/UserSettingsPage/Common/SettingsSectionSpinner.tsx")},[]),(0,l.jsx)(i.xu,{alignItems:"center",bottom:!0,color:"default","data-test-id":"loading-indicator",display:"flex",justifyContent:"center",left:!0,opacity:.8,position:"absolute",right:!0,top:!0,children:(0,l.jsx)(i.xH,{show:!0})})}},404583:function(e,t,a){function o(e,t=100,a){return new Promise((o,s)=>{let i=0,l=t;async function r(){let t;if(a&&i>=a)return void s(Error("Max retries failed"));try{t=await e(),i+=1}finally{void 0===t?(setTimeout(()=>{r()},l),l*=2):o(t)}}r()})}a.d(t,{_:()=>o})},515511:function(e,t,a){a.d(t,{Z:()=>o});function o(e){return function e(t,a){let o;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let s=a.find(e=>e.value===t);if(s)return s.result;let i=Object.prototype.toString.call(t);switch(i){case"[object Array]":o=Array(t.length);break;case"[object Set]":o=new Set;break;case"[object Object]":case"[object Arguments]":o={};break;case"[object Map]":o=new Map;break;default:return t}let l=[...a,{value:t,result:o}];switch(i){case"[object Array]":t.forEach((t,a)=>{o[a]=e(t,l)});break;case"[object Set]":t.forEach(t=>{o.add(e(t,l))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,a])=>{o[t]=e(a,l)});break;case"[object Map]":t.forEach((t,a)=>{o.set(a,e(t,l))})}return o}(e,[])}},997526:function(e,t,a){a.d(t,{$P8:()=>y,$rz:()=>p,A6H:()=>x,Bz5:()=>b,CIX:()=>h,KSH:()=>S,M25:()=>A,Mbi:()=>v,OxT:()=>g,Ufh:()=>C,W6M:()=>i,XqD:()=>d,Y6X:()=>c,_ie:()=>P,bm6:()=>T,bsG:()=>s,d9H:()=>_,gU$:()=>k,iO$:()=>o,iiJ:()=>r,jMQ:()=>z,ltu:()=>l,oVN:()=>w,of3:()=>j,scJ:()=>I,t07:()=>u,te3:()=>f,wZV:()=>n,xKT:()=>m});let o="var(--base-color-pinterest)",s="var(--base-color-grayscale-0)",i="var(--base-color-grayscale-25)",l="var(--base-color-grayscale-50)",r="var(--base-color-grayscale-100)",n="var(--base-color-grayscale-150)",c="var(--base-color-grayscale-200)",d="var(--base-color-grayscale-250)",u="var(--base-color-grayscale-350)",_="var(--base-color-grayscale-400)",m="var(--base-color-grayscale-500)",h="var(--base-color-red-100)",g="var(--base-color-red-200)",p="var(--base-color-red-300)",f="var(--base-color-red-400)",b="var(--base-color-red-500)",x="var(--base-color-purple-100)",y="var(--base-color-purple-200)",C="var(--base-color-purple-400)",v="var(--base-color-blue-100)",w="var(--base-color-blue-400)",P="var(--base-color-blue-500)",A="var(--base-color-green-100)",z="var(--base-color-green-500)",j="var(--base-color-orange-100)",I="var(--base-font-size-16)",k="var(--base-font-family-default-latin)",S="var(--base-font-family-code)",T="var(--base-motion-easing-expressive)"},440077:function(e,t,a){a.d(t,{$9u:()=>eu,$wC:()=>ex,$wd:()=>z,AEu:()=>I,AMH:()=>ee,AmI:()=>ea,Apc:()=>eT,BJZ:()=>eb,ByL:()=>eo,C9x:()=>H,CkT:()=>ei,EFb:()=>eP,Ecf:()=>eg,EvS:()=>A,FCL:()=>ez,F_B:()=>r,G4W:()=>v,Gh8:()=>M,GnN:()=>eB,Hgl:()=>eE,Klx:()=>V,KtD:()=>en,LZO:()=>u,N$$:()=>ek,NKq:()=>el,O8_:()=>ec,OHS:()=>S,PQn:()=>N,QJA:()=>T,QO3:()=>d,RdP:()=>eC,Ryt:()=>B,Tp5:()=>eZ,Twt:()=>h,UON:()=>eR,UTl:()=>E,V9q:()=>eI,VOZ:()=>K,Vrx:()=>eO,Wmm:()=>o,Wyp:()=>p,XSG:()=>c,XgG:()=>W,Ykf:()=>Y,YmI:()=>X,_HG:()=>l,_dC:()=>P,a85:()=>w,b2_:()=>b,b9x:()=>ed,bJI:()=>F,bcf:()=>f,buv:()=>eh,cYF:()=>ey,cpp:()=>x,cxq:()=>R,d40:()=>ev,dUT:()=>k,etl:()=>_,fcC:()=>D,hWn:()=>em,hio:()=>m,ilB:()=>g,jKP:()=>O,jKo:()=>ef,jc_:()=>j,k29:()=>Q,kWh:()=>$,klq:()=>q,lbE:()=>C,lwx:()=>eA,nTo:()=>U,o6P:()=>G,o6z:()=>e_,oVm:()=>er,qiK:()=>s,qqC:()=>n,r1i:()=>J,rEw:()=>y,saV:()=>ew,v$5:()=>Z,v2p:()=>ep,v6B:()=>ej,vvv:()=>eS,xW7:()=>et,z6F:()=>L,zsO:()=>i,zuj:()=>es});let o="var(--sema-color-background-default)",s="var(--sema-color-background-primary)",i="var(--sema-color-background-secondary)",l="var(--sema-color-background-tertiary)",r="var(--sema-color-background-subtle)",n="var(--sema-color-background-selected)",c="var(--sema-color-background-education)",d="var(--sema-color-background-elevation)",u="var(--sema-color-background-scrim)",_="var(--sema-color-background-inverse)",m="var(--sema-color-background-light)",h="var(--sema-color-background-dark)",g="var(--sema-color-background-disabled)",p="var(--sema-color-background-transparent)",f="var(--sema-color-background-info-default)",b="var(--sema-color-background-info-weak)",x="var(--sema-color-background-recommendation-default)",y="var(--sema-color-background-recommendation-weak)",C="var(--sema-color-background-success-default)",v="var(--sema-color-background-success-weak)",w="var(--sema-color-background-warning-default)",P="var(--sema-color-background-warning-weak)",A="var(--sema-color-background-error-default)",z="var(--sema-color-background-error-weak)",j="var(--sema-color-background-wash-scrims-opaque)",I="var(--sema-color-background-gradient-darken-bottom-weak)",k="var(--sema-color-background-gradient-darken-bottom-strong)",S="var(--sema-color-background-gradient-darken-top-weak)",T="var(--sema-color-background-gradient-darken-top-strong)",E="var(--sema-color-border-decorative)",B="var(--sema-color-border-interactive)",Z="var(--sema-color-border-selected)",R="var(--sema-color-border-disabled)",O="var(--sema-color-border-error)",M="var(--sema-color-border-education)",L="var(--sema-color-border-inverse)",D="var(--sema-color-border-transparent)",N="var(--sema-color-border-light-decorative)",U="var(--sema-color-border-focus-outer-default)",F="var(--sema-color-border-focus-inner-default)",W="var(--sema-color-text-default)",K="var(--sema-color-text-neutral)",H="var(--sema-color-text-subtle)",Y="var(--sema-color-text-recommendation)",X="var(--sema-color-text-inverse)",V="var(--sema-color-icon-primary)",G="var(--sema-color-icon-performance-plus)",q="var(--sema-color-dataviz-10)",$="var(--sema-color-dataviz-11)",J="var(--sema-color-dataviz-12)",Q="var(--sema-color-dataviz-01)",ee="var(--sema-color-dataviz-02)",et="var(--sema-color-dataviz-03)",ea="var(--sema-color-dataviz-04)",eo="var(--sema-color-dataviz-05)",es="var(--sema-color-dataviz-06)",ei="var(--sema-color-dataviz-07)",el="var(--sema-color-dataviz-08)",er="var(--sema-color-dataviz-09)",en="var(--sema-color-hover-background-default)",ec="var(--sema-color-hover-background-primary)",ed="var(--sema-color-hover-background-elevation)",eu="var(--sema-color-hover-border-decorative)",e_="var(--sema-color-hover-border-error)",em="var(--sema-color-pressed-background-default)",eh="var(--sema-color-pressed-background-elevation)",eg="var(--sema-elevation-shadow-floating)",ep="var(--sema-font-weight-heading-700)",ef="var(--sema-font-weight-UI-100)",eb="var(--sema-font-size-body-100)",ex="var(--sema-font-family-heading-700)",ey="var(--sema-font-family-body-SM)",eC="var(--sema-rounding-200)",ev="var(--sema-rounding-300)",ew="var(--sema-rounding-400)",eP="var(--sema-rounding-pill)",eA="var(--sema-space-0)",ez="var(--sema-space-25)",ej="var(--sema-space-50)",eI="var(--sema-space-100)",ek="var(--sema-space-200)",eS="var(--sema-space-300)",eT="var(--sema-space-400)",eE="var(--sema-space-500)",eB="var(--sema-space-800)",eZ="var(--sema-space-1000)",eR="var(--sema-space-1200)",eO="var(--sema-space-1400)"},935059:function(e,t,a){a.d(t,{$:()=>o,Z:()=>i});let{Provider:o,get:s}=(0,a(213491).Z)("viewer"),i=s},216975:function(e,t,a){function o(e,t,a){return e.split(a).map(e=>{if(e.match(a)){let a=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,a))return t[a]}return e})}a.d(t,{Wc:()=>r,XB:()=>l,bF:()=>c,nk:()=>i});let s=/(\{\{\s*\w+\s*\}\})/g;function i(e,t){return o(e,t,s)}function l({text:e,markers:t,jsxReplacements:a}){let s=["strong","a","em","span"],i=/(\{\{\s*\w+\s*\}\})/g,l=/<\s*(strong|a|em|span)\b[^>]*>.*?<\s*\/\s*\1\s*>/g,r=/<(strong|a|em|span)\s+[^>]*id\s*=\s*["']([^"']+)["'][^>]*>/,n=/<(strong|a|em|span)\b[^>]*>(.*?)<\/\1>/,c=e.match(l)?.map(e=>{let s=e.match(r),l=(s&&s[2])??0,c=e.match(n),d=(c&&c[2])??"",u=t?o(d,t,i):[d];return l&&a&&a[l]?.({innerHtmlStrings:u})});return e.split(l)?.map(e=>s.some(t=>e===t)?c?.shift():t?o(e,t,i):e)}function r(e,t){return o(e,t,s).join("")}let n=/(\{\s*\w+\s*\})/g;function c(e,t){return o(e,t,n)}},487038:function(e,t,a){a.d(t,{F_:()=>l,MA:()=>r,ZP:()=>s,y8:()=>i});var o=a(213491);class s{constructor(){var e,t,a;t={},(e="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="pending","string"))?a:a+"")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}add(e,t,a){a&&(this.pending[e]={...this.pending[e]??{},[t]:a},a.finally?.(()=>this.remove(e,t)))}remove(e,t){this.pending[e]?.[t]&&(delete this.pending[e][t],0===Object.keys(this.pending[e]).length&&delete this.pending[e])}get(e,t){return this.pending[e]?.[t]??null}}let i=new s,{Provider:l,getMaybe:r}=(0,o.Z)("PendingFetches")},57887:function(e,t,a){a.d(t,{UZ:()=>m,Z8:()=>h,my:()=>g,vL:()=>f,w1:()=>p});var o=a(667294),s=a(581722),i=a(27399),l=a(213491),r=a(660322),n=a(785893);function c(e,t,a){let o=[...t[e][a.payload.name]??[],a.payload.handler],s={...t};return s[e]={...t[e],[a.payload.name]:o},s}function d(e,t,a){if(!t[e][a.payload.name])return t;let o=t[e][a.payload.name].filter(e=>e!==a.payload.handler),s={...t};return s[e]={...t[e],[a.payload.name]:o},s}let{Provider:u,get:_}=(0,l.Z)("ResourceContext");function m({children:e,resourceCreator:t}){let[{listeners:a,moreListeners:s},l]=(0,o.useReducer)((e,t)=>{switch(t.type){case"addListener":return c("listeners",e,t);case"addMoreListener":return c("moreListeners",e,t);case"removeListener":return d("listeners",e,t);case"removeMoreListener":return d("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}});i.Z.fetchCompleteCallback=({resource:e,options:t,response:o,normalizedResponse:s,refresh:i,resourceSchema:l})=>{a[e]&&a[e].forEach(a=>a({isRefresh:i,normalizedResponse:s,options:t,schema:l,resource:e,response:o}))},i.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:a,normalizedResponse:o,refresh:i,resourceSchema:l})=>{s[e]&&s[e].forEach(s=>s({isRefresh:i,normalizedResponse:o,options:t,schema:l,resource:e,response:a}))};let r=(0,o.useMemo)(()=>({listenerDispatch:l,resourceCreator:t}),[t]);return(0,n.jsx)(u,{value:r,children:e})}function h(e,t){let{listenerDispatch:a}=_();(0,o.useEffect)(()=>(a({type:"addListener",payload:{name:e,handler:t}}),()=>{a({type:"removeListener",payload:{name:e,handler:t}})}),[a,e,t])}function g(e,t){let{listenerDispatch:a}=_();(0,o.useEffect)(()=>(a({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{a({type:"removeMoreListener",payload:{name:e,handler:t}})}))}function p(){let e=(0,s.I0)();return(0,o.useCallback)((t,a)=>e((0,r.jB)(t,a)),[e])}function f(){return _().resourceCreator}},233597:function(e,t,a){a.d(t,{U:()=>u,b:()=>_});var o=a(27399),s=a(515511),i=a(647908),l=a(629972),r=a(660322),n=a(761051),c=a(949453);function d({addSuspenseResourceSSRData:e,fetchOptions:t,resource:a,resourceCreator:u,retry:_}){return async(h,g)=>{let{bookmark:p,headers:f,options:b,refresh:x,schema:y}=t,C=(0,i.Z)(b);if(g().resources?.[a]?.[C]?.fetching&&!_)return Promise.resolve();let v=_?_.bookmark:p,w=(0,s.Z)(b),P=v?{...w,bookmarks:[v]}:w;h((0,r.LQ)(a,b,!0));try{let s,i,g=u??o.Z.create,C=await g(a,P).callGet(void 0,f);e&&m(C)&&e(a,P,C),m(C)||(s=C.bookmarks?.[0]);let{data:v}=C.resource_response,{normalizedResponse:w,resourceSchema:A}=(0,c.f)({data:v,opts:{bookmark:p,options:b,schema:y},resource:a});if(m(C)){s=C.resource_response.bookmark??"";let e=(0,n.Z)(C);w=e.normalizedResponse,A=e.schema,i=e.response}else i=C;if(Array.isArray(v)&&0===v.length&&s&&s!==l.qx){let e=_?_.count:0;if(!(e>=l.s9))return h(d({resource:a,fetchOptions:t,retry:{count:e+1,bookmark:s},resourceCreator:u}))}i&&(p?(h((0,r.Dm)(a,b,i,w,A)),o.Z.fetchMoreCompleteCallback&&o.Z.fetchMoreCompleteCallback({resource:a,options:b,response:i,normalizedResponse:w,refresh:x,resourceSchema:A})):(h((0,r.Sr)(a,b,i,w,x,A)),o.Z.fetchCompleteCallback&&o.Z.fetchCompleteCallback({resource:a,options:b,response:i,normalizedResponse:w,refresh:x,resourceSchema:A})))}catch(t){if(e){let o=t.http_status??500;e(a,b,{resource:{name:a,options:b},resource_response:{data:null,error:t,http_status:o,status:"failure"}})}h((0,r.Tl)(a,b,t))}}}let u=(e,{bookmark:t,headers:a,options:o,schema:s},i,l)=>d({resource:e,fetchOptions:{bookmark:t,headers:a,options:o,refresh:!1,schema:s},resourceCreator:i,addSuspenseResourceSSRData:l}),_=(e,{headers:t,options:a,schema:o},s)=>d({resource:e,fetchOptions:{headers:t,options:a,refresh:!0,schema:o},resourceCreator:s});function m(e){return"resource"in e}},660322:function(e,t,a){a.d(t,{Dm:()=>c,LQ:()=>l,Sr:()=>n,Tl:()=>r,XM:()=>i,jB:()=>d});var o=a(184661),s=a(394268);function i(e,t,a,s){return{type:o.AF,payload:{resource:e,options:t,response:a,normalizedResponse:s}}}function l(e,t,a){return{type:o.KK,payload:{resource:e,options:t,isFetching:a}}}let r=(e,t,a)=>({type:o.cR,payload:{resource:e,options:t,error:a}});function n(e,t,a,i,l,r){return{type:o.zP,payload:{isRefresh:l,normalizedResponse:i,options:t,resource:e,response:a,schema:r},meta:{[s.s]:!0}}}function c(e,t,a,s,i){return{type:o.aW,payload:{resource:e,options:t,response:a,normalizedResponse:s,schema:i}}}function d(e,t){return{type:o.se,payload:{resource:e,optionsOrOptionsKey:t}}}},761051:function(e,t,a){a.d(t,{Z:()=>l});var o=a(782677),s=a(764453),i=a(949453);function l(e){let{resource:t,resource_response:a}=e,{name:l,options:r}=t,n=(0,s.Z)(a),{data:c,error:d}=a,u=(0,i.J)(l,{options:r});return{error:d,isRefresh:!1,normalizedResponse:u&&c?(0,o.Fv)(c,u):null,options:r,resource:l,response:{auxData:n,bookmarks:a.bookmark?[a.bookmark]:void 0,resource_response:{data:c,error:d}},schema:u}}},957547:function(e,t,a){a.d(t,{Z:()=>_});var o=a(667294),s=a(581722),i=a(312048),l=a(647908),r=a(774838),n=a(233597),c=a(629972),d=a(487038),u=a(57887);function _(e,t,a){let{enabledRouteRefresh:_,headers:m,name:h,noCache:g,options:p,schema:f}=e,b=(0,d.MA)(),x=(0,u.vL)(),y=(0,s.I0)(),C=(0,l.Z)(p),v=(0,o.useRef)(void 0),w=(0,i.ur)(),P=(0,o.useRef)(void 0),A=e=>e[h]?.[C],z=(0,s.v9)(({resources:e})=>A(e)?.data),j=(0,s.v9)(({resources:e})=>A(e)?.error),I=!!j||void 0!==z,k=(0,s.v9)(({resources:e})=>!!A(e)?.fetching),S=(0,s.v9)(({resources:e})=>A(e)?.nextBookmark),T=I&&!k&&S===c.qx,E=!!(I&&_&&"POP"!==w&&!t),[B,Z]=(0,o.useState)(E),R=B;(0,s.wU)(z,P.current)||(B&&(P.current||!E)&&(R=!1,Z(!1)),P.current=z);let O=(0,o.useCallback)(e=>{let t=y((0,n.U)(h,{options:p,schema:f,bookmark:e,headers:m},x,void 0));e||b?.add(h,C,t)},[y,h,C,f,m]),M=(0,o.useCallback)(()=>{let e=y((0,n.b)(h,{options:p,schema:f,headers:m},x));b?.add(h,C,e)},[y,h,C,f,m]),L=(0,o.useCallback)(()=>{t||(M(),Z(!0))},[t,M]),D=(0,o.useCallback)(()=>{!S||T||k||t||O(S)},[t,O,T,k,S]),{isBot:N}=(0,r.B)(),U=(0,o.useCallback)(()=>{if(!(k||b?.get(h,C))&&!t&&v.current!==C){let e=void 0===v.current;v.current=C,!I||a&&e&&j&&(({httpStatus:e})=>!e||e>=500)(j)?O():(!N&&g||E)&&M()}},[a,O,M,t,j,N,k,I,E,h,g,C,b]),F=(0,o.useMemo)(()=>({name:h,optionsKey:C}),[h,C]);return(0,o.useMemo)(()=>({fetchResource:U,ref:F,refresh:L,fetchMore:D,isFetching:k,isLoaded:I,isRefreshing:R}),[D,U,k,I,F,R,L])}(0,a(701943).kr)()},661376:function(e,t,a){a.d(t,{Z:()=>n});var o=a(667294),s=a(581722),i=a(647908),l=a(629972),r=a(957547);function n(e){let{enabledRouteRefresh:t,headers:a,name:n,noCache:c,options:d,schema:u}=e??{name:l.fY,options:null},_=(0,i.Z)(d),m=e=>e[n]?.[_],h=(0,s.v9)(({resources:e})=>m(e)?.nextBookmark),g=(0,s.v9)(({resources:e})=>m(e)?.data),p=(0,s.v9)(({resources:e})=>m(e)?.auxData),f=(0,s.v9)(({resources:e})=>m(e)?.error),{fetchResource:b,fetchMore:x,isFetching:y,isLoaded:C,isRefreshing:v,refresh:w}=(0,r.Z)({enabledRouteRefresh:t,headers:a,name:n,noCache:c,options:d,schema:u},!e,!0),P=C&&!y&&h===l.qx;return(0,o.useEffect)(()=>{b()}),(0,o.useMemo)(()=>({auxData:p,data:g,error:f,fetchMore:x,isAtEnd:P,isFetching:y,isLoaded:C,isRefreshing:v,nextBookmark:h,refresh:w}),[p,g,f,x,P,y,C,v,h,w])}},135269:function(e,t,a){a.d(t,{Z:()=>i});var o=a(739405),s=a(177433);function i(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return+("phone"===e||"tablet"===e)}}({deviceType:(0,o.ZP)(),site:(0,s.uo)()})}},180483:function(e,t,a){a.d(t,{Z:()=>i});var o=a(460575);let s=/\{\{\s*(\w+)\s*\}\}/g,i=(e,t)=>(0,o.Z)(s,e,t)},274220:function(e,t,a){a.d(t,{Z:()=>o});let o=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},460575:function(e,t,a){a.d(t,{Z:()=>o});let o=(e,t,a)=>t?t.replace(e,(e,t)=>a&&Object.prototype.hasOwnProperty.call(a,t)?a[t]:""):""},696749:function(e,t,a){a.d(t,{Z:()=>i});var o=a(180483),s=a(274220);let i=(e,t)=>{let a={};return Object.keys(t).forEach(e=>{a[e]=t[e]?(0,s.Z)(t[e].toString()):""}),(0,o.Z)(e,a)}},736328:function(e,t,a){a.d(t,{Z:()=>n});var o=a(667294),s=a(312048),i=a(173874),l=a(138482),r=a(935833);function n(){let e=(0,s.TH)();return(0,o.useCallback)(({action:t,item:a,within:o,tags:s={}})=>{let n=(0,i.L6)(e)?"pin":(0,i.am)(e)?"board":(0,i.Xn)(e)?"login":(0,i.C$)(e)?"home":(0,l.Z)(e)?"profile":(0,i.dr)(e)?"ideas":(0,i.gT)(e)?"ideas-root":(0,i.tZ)(e)?"videos":(0,i.Q0)(e)?"videos-category":(0,i.$Y)(e)?"article":(0,i.E0)(e)?"shopping-spotlight":(0,i.Zz)(e)?"today":(0,i.j8)(e)?"unauth-profile":(0,i.f1)(e)?"shopping-root":(0,i.OX)(e)?"shopping-category":"other";(0,r.My)(`logged_out_product.interaction.${n}.${t}`,{item:a||"none",within:o||"none",...s})},[e])}},80138:function(e,t,a){function o(e,t=!0){let a=e.toLowerCase();return"http://"===a.substring(0,7)&&(a=a.substring(7)),"https://"===a.substring(0,8)&&(a=a.substring(8)),t&&"www."===a.substring(0,4)&&(a=a.substring(4)),"/"===a.substring(a.length-1)&&(a=a.substring(0,a.length-1)),a}a.d(t,{Z:()=>o})},952932:function(e,t,a){a.d(t,{E:()=>c});var o=a(430037),s=a(465989),i=a(247387),l=a(755725),r=a(900946);let n={"Google Tag Manager":"Google Tag Manager",Shopify:"Shopify",WooCommerce:"WooCommerce",WordPress:"WordPress",Squarespace:"Squarespace",Weebly:"Weebly",Tealium:"Tealium",Magento:"Magento",Ecwid:"Ecwid",Bigcommerce:"BigCommerce"},c=e=>{let t=(0,o.Z)();if(e){let a=(0,r.Z)({platform:n[e]});if("Shopify"===e)return i.x$l;if(["Google Tag Manager","WordPress"].includes(e))return t?.advertiser?`${i.X9u}/?${a}`:(0,l.Z)(`?${(0,r.Z)({redirect:e})}`,"https:",i.KUo)}return t?.advertiser?i.X9u:(0,l.Z)(`?${(0,r.Z)({redirect:s.qp.PINTEREST_TAG})}`,"https:",i.KUo)}},920994:function(e,t,a){a.d(t,{S:()=>s});var o=a(696749);function s(e,t){let a="";if(e){let o=t.bt("Install the Pinterest Tag in your {{tagIntegration}} shop to track conversion events and see your top performing ads.", "Install the Pinterest tag on your {{tagIntegration}} store to track conversion events and see your top performing ads.", "[m10n] business.tagUpsells.text.store", undefined, true);switch(e){case"Ecwid":case"Bigcommerce":a=o;break;case"WordPress":a=t.bt("Install the Pinterest Tag on your {{tagIntegration}} PixelYourSite plug-in to track conversion events and see your top performing ads.", "Install the Pinterest tag on your {{tagIntegration}} PixelYourSite plugin to track conversion events and see your top performing ads.", "[m10n] business.tagUpsells.text.wordpress", undefined, true);break;case"WooCommerce":a=t.bt("Install the Pinterest Tag on your {{tagIntegration}} extension to track conversion events and see your top performing ads.", "Install the Pinterest tag on your {{tagIntegration}} extension to track conversion events and see your top performing ads.", "[m10n] business.tagUpsells.text.wooCommerce", undefined, true);break;default:a=t.bt("Install the Pinterest Tag on {{tagIntegration}} to track conversion events and see your top performing ads.", "Install the Pinterest tag on {{tagIntegration}} to track conversion events and see your top performing ads.", "[m10n] business.tagUpsells.text.default", undefined, true)}}return(0,o.Z)(a,{tagIntegration:e})}},510755:function(e,t,a){a.d(t,{WZ:()=>r,NW:()=>c,hu:()=>s,Rz:()=>u,cI:()=>i,L1:()=>l,OZ:()=>d,fe:()=>n});var o=a(740097);let s=64,i=80,l=24,r="HeaderContent",n=671,c=new o.Ry(n),d="NagHeaderContent",u={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},464094:function(e,t,a){a.d(t,{AC:()=>l,FC:()=>d,FP:()=>n,M0:()=>r,SA:()=>_,Xq:()=>u,Y_:()=>i,o2:()=>s,s0:()=>o,z9:()=>c});let o=44,s=40,i=49,l=69,r=236,n=157,c=320,d=213,u=7,_=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},632492:function(e,t,a){a.d(t,{$8:()=>d,Dk:()=>c,Fk:()=>s,fS:()=>n,lI:()=>i,mS:()=>r,qW:()=>l});var o=a(740097);let s=new o.Ry(1),i=new o.Ry(3),l=2,r=new o.Ry(l),n=3,c=new o.Ry(100),d=new o.H3([c])},201198:function(e,t,a){a.d(t,{Z:()=>c});var o=a(686659),s=a(667294),i=a(740097),l=a(785893);let r={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function n(){return(0,l.jsx)(i.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:8,width:"100%",children:(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:r,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function c({disabled:e,form:t,fullWidth:a,name:r,onClick:c,size:d,submitting:u,text:_}){return(0,s.useEffect)(()=>{(0,o.Z)("SubmitButton","/app/www/common/SubmitButton/SubmitButton.tsx")},[]),(0,l.jsxs)(i.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[u&&(0,l.jsx)(n,{}),(0,l.jsx)(i.zx,{color:"red",disabled:e||u,form:t,fullWidth:a,name:r,onClick:c,size:d,text:_,type:"submit"})]})}},949453:function(e,t,a){a.d(t,{J:()=>i,f:()=>l});var o=a(782677),s=a(407775);let i=(e,{bookmark:t,options:a,schema:o})=>{let i=o||s.Z[e];return"function"==typeof i?i({resource:e,options:a,bookmark:t}):i};function l({data:e,opts:{bookmark:t,options:a,schema:s},resource:l}){let r=i(l,{bookmark:t,options:a,schema:s});return{normalizedResponse:r&&e?(0,o.Fv)(e,r):null,resourceSchema:r}}},955994:function(e,t,a){a.r(t),a.d(t,{default:()=>u});var o=a(686659),s=a(667294),i=a(740097),l=a(465784),r=a(24246),n=a(774838),c=a(533889),d=a(785893);function u(e){(0,s.useEffect)(()=>{(0,o.Z)("SectionCreateModal","/app/www/profile/ProfileBoards/SectionCreateModal.tsx")},[]);let t=(0,r.Z)(),{onSectionCreate:a,onClose:u,selectedBoard:_,useLayer:m=!0}=e,{isRTL:h}=(0,n.B)(),g=m?l.ZP:i.u_,p=(0,d.jsx)(i.xu,{paddingX:4,paddingY:6,position:"relative",children:(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"center",children:[(0,d.jsx)(i.xu,{maxWidth:400,children:(0,d.jsx)(i.qd,{align:"center",size:"600",children:t.bt("Add section", "Add section", "Modal header for adding a section", undefined, true)})}),(0,d.jsx)(i.xu,{left:h,paddingX:6,paddingY:5,position:"absolute",right:!h,top:!0,children:(0,d.jsx)(i.hU,{accessibilityLabel:t.bt("Close", "Close", "CreateSection.Modal.Icon", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:u,size:"lg"})})]})});return(0,d.jsx)(g,{accessibilityModalLabel:t.bt("Add a section to the board", "Add a section to the board", "modal to add a section to a board", undefined, true),heading:p,onDismiss:u,size:"sm",children:(0,d.jsx)(i.xu,{color:"default",display:"flex",rounding:2,children:(0,d.jsx)(c.Z,{board:_,completeCreateSectionAction:a,onClearModal:u,positionRelative:!0,showTitle:!1})})})}},908808:function(e,t,a){function o(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function s(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}a.d(t,{HG:()=>s,OQ:()=>i,hd:()=>o});let i=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},66708:function(e,t,a){a.d(t,{Z:()=>d});var o=a(27399),s=a(660322),i=a(329197),l=a(908808),r=a(779686),n=a(679602),c=a(438274);function d({boardId:e,sourceBoardId:t="",sourceSectionId:a="",name:d,nameSource:u,pinImport:_,initialPinIds:m=[]},h,g,p){let f=0;"RECOMMENDATION"===u?f=1:"EDITED_RECOMMENDATION"===u&&(f=2);let b={board_id:e,initial_pins:_&&!_.all?_.pinIds:m,name:d,name_source:f,...g?{orbac_subject_id:g}:Object.freeze({})};return d=>o.Z.create("BoardSectionResource",b).callCreate({showError:!1}).then(({resource_response:{data:o}})=>{p({event_type:7100,object_id_str:o.id}),d((0,l.hd)(e,o)),d((0,r.vX)({feedId:e,feedType:c.Z.BOARD_SECTIONS,itemIds:[o.id],itemType:"boardsection"})),d((0,i.Z)(e,"pin_count")),d((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:g}));let{all:u,pinIds:m}=_||{all:!1,pinIds:[]};return u?new Promise((s,i)=>d((0,n.Z)({inverseSelection:!0,selectedPinIds:m,source:{boardId:t||e,sectionId:a||null},target:{boardId:e,sectionId:o.id}},h)).then(()=>s(o)).catch(i)):(m.length>0&&d((0,r.EX)({feedId:e,feedType:c.Z.BOARDFEED,itemIds:m,itemType:"pin"})),o)})}},773382:function(e,t,a){a.d(t,{Z:()=>s});var o=a(233597);function s(e,t){return a=>a((0,o.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},329197:function(e,t,a){a.d(t,{Z:()=>s});var o=a(233597);function s(e,t,a){return(0,o.U)("BoardResource",{options:{board_id:e,field_set_key:t,...a?{orbac_subject_id:a}:{}}})}},679602:function(e,t,a){a.d(t,{S:()=>m,Z:()=>h});var o=a(27399),s=a(329197),i=a(773382),l=a(779686),r=a(148266),n=a(438274),c=a(382802);let d=e=>t=>{c.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t.bt("Please wait until the previous board action finishes.", "Please wait until the previous board action finishes.", " - ", undefined, true);default:return e.message}}(t,e))},u=e=>(0,l.N8)(e.sectionId?n.Z.BOARD_SECTION_PINS:n.Z.BOARDFEED,e.sectionId||e.boardId);function _(e,t){let{source:a,target:o}=e;o.boardId!==a.boardId?(t((0,s.Z)(a.boardId,"pin_count")),t((0,s.Z)(o.boardId,"pin_count"))):a.sectionId&&o.sectionId||t((0,s.Z)(o.boardId,"pin_count")),a.sectionId&&t((0,i.Z)(a.sectionId)),o.sectionId&&t((0,i.Z)(o.sectionId))}function m(e){return t=>{let{selectedPinIds:a,source:o,target:s}=e;t((0,l.EX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?n.Z.BOARD_SECTION_PINS:n.Z.BOARDFEED,itemIds:a,itemType:"pin"})),t((0,l.vX)({feedId:s.sectionId||s.boardId,feedType:s.sectionId?n.Z.BOARD_SECTION_PINS:n.Z.BOARDFEED,itemIds:a,itemType:"pin"})),a.forEach(e=>{t((0,r.Vp)({pinId:e,boardId:s.boardId,sectionId:s.sectionId||void 0,title:s.name||""}))}),_(e,t)}}function h(e,t){return a=>{let{selectedPinIds:s,target:i}=e;return s.forEach(e=>{a((0,r.Vp)({pinId:e,boardId:i.boardId,sectionId:i.sectionId||void 0,title:i.name||""}))}),(function(e,t,a){let{inverseSelection:s,selectedPinIds:i,source:r,target:c,orbacSubjectId:_}=e;if(r.boardId===c.boardId&&(r.sectionId||null)===(c.sectionId||null))return Promise.reject();if(s){let e={board_id:r.boardId,new_board_id:c.boardId,old_section_id:r.sectionId||void 0,new_section_id:c.sectionId||void 0,pin_ids:i,orbac_subject_id:_};return o.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(r)),t(u(c))])).catch(d(a))}{let e=(e,a)=>{t((0,l.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?n.Z.BOARD_SECTION_PINS:n.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,l.vX)({feedId:a.sectionId||a.boardId,feedType:a.sectionId?n.Z.BOARD_SECTION_PINS:n.Z.BOARDFEED,itemIds:i,itemType:"pin"}))};e(r,c);let s=()=>e(c,r);if(c.boardId===r.boardId)if(c.sectionId){let e={section_id:c.sectionId,pins:i,orbac_subject_id:_};return o.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{s(),d(a)(e)})}else{let e={section_id:r.sectionId,pins:i,orbac_subject_id:_};return o.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{s(),d(a)(e)})}{let e={board_id:c.boardId,section_id:c.sectionId||void 0,pin_ids:i,orbac_subject_id:_};return o.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{s(),d(a)(e)})}}})(e,a,t).then(()=>_(e,a))}}},148266:function(e,t,a){function o(e){return{type:"PIN_BETTER_SAVE",payload:e}}function s(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function i(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function l(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function r(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function n(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function c(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}a.d(t,{ND:()=>c,Vp:()=>r,a1:()=>o,b6:()=>n,jg:()=>i,o4:()=>s,ti:()=>l})},533889:function(e,t,a){a.d(t,{Z:()=>b});var o=a(686659),s=a(667294),i=a(581722),l=a(740097),r=a(104999),n=a(935059),c=a(24246),d=a(514223),u=a(200619),_=a(601871),m=a(201198),h=a(66708),g=a(785893);function p(e,t,a){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class f extends s.Component{constructor(e){super(e),p(this,"onCreateSection",()=>{let{board:e,sourceBoard:t,sourceSection:a,dispatch:o,completeCreateSectionAction:s,pinImport:i,viewer:l,orbacActingAs:r,logContextEvent:n}=this.props,c=(0,_.lJ)(l,r);return this.setState({isSaving:!0}),o((0,h.Z)({boardId:e.id,sourceBoardId:t&&t.id,sourceSectionId:a&&a.id,name:this.state.inputName.trim(),pinImport:i},this.props.i18n,c,n)).then(e=>{this.setState({isSaving:!1}),s(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),p(this,"handleKeyDown",({event:e})=>{let{createError:t,inputName:a}=this.state;[d.Z.ENTER,d.Z.NUMPAD_ENTER].includes(e.which)&&!t&&a.trim()&&this.onCreateSection()}),p(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),p(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){let{createError:a,inputRef:o}=this.state;o&&(!t.inputRef||a)&&o.focus()}render(){let{showTitle:e,positionRelative:t}=this.props,{createError:a,inputName:o,isSaving:s}=this.state,i=!!o.trim()&&!a;return(0,g.jsxs)(l.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:t?"relative":"absolute",right:!0,rounding:2,top:!0,width:"100%",children:[e&&(0,g.jsx)(l.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,g.jsx)(l.X6,{size:"400",children:this.props.i18n.bt("Add section", "Add section", "Title in the add section modal", undefined, true)})}),(0,g.jsxs)(l.xu,{padding:4,children:[(0,g.jsx)(l.xu,{marginBottom:2,children:(0,g.jsx)(l.__,{htmlFor:"sectionEditName",children:(0,g.jsx)(l.xv,{color:a?"error":"subtle",size:"200",children:this.props.i18n.bt("Name", "Name", "Board section name", undefined, true)})})}),(0,g.jsx)(l.xu,{children:(0,g.jsx)(l.xu,{ref:this.handleInputRef,children:(0,g.jsx)(l.nv,{errorMessage:a||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n.bt("Like \"Lighting\"", "Like \"Lighting\"", "Placeholder for board section name", undefined, true),size:"lg",type:"text",value:o})})})]}),(0,g.jsx)(l.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,g.jsx)(l.xu,{padding:4,children:(0,g.jsx)(l.kC,{alignItems:"stretch",justifyContent:"end",children:(0,g.jsx)(m.Z,{disabled:!i||s,onClick:this.onCreateSection,submitting:s,text:this.props.i18n.bt("Add", "Add", "add a new section", undefined, true)})})})]})}componentDidMount(){(0,o.Z)("CreateSectionPane","/app/www/save/pin-to-board/CreateSectionPane/CreateSectionPane.tsx")}}let b=function(e){let t=(0,i.I0)(),a=(0,c.Z)(),o=(0,n.Z)(),s=(0,u.Z)();return(0,g.jsx)(f,{...e,dispatch:t,i18n:a,logContextEvent:(0,r.Z)(),orbacActingAs:s,viewer:o})}},385667:function(e,t,a){a.d(t,{Z:()=>n});var o=a(686659),s=a(667294),i=a(740097),l=a(24246),r=a(785893);let n=({network:e})=>{(0,s.useEffect)(()=>{(0,o.Z)("ClaimAccountIcon","/app/www/settings/UserSettingsPage/Claim/ClaimAccountIcon.tsx")},[]);let t=(0,l.Z)(),a=null;switch(e){case"youtube":a="youtube";break;case"etsy":a="etsy";break;case"instagram":a="instagram";break;case"amazon":a="service-amazon";break;case"target":a="target"}return null===a?null:"service-amazon"===a?(0,r.jsx)(()=>(0,r.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(i.JO,{accessibilityLabel:t.bt("Amazon icon", "Amazon Icon", "claim.claimaccount.Icon", undefined, true),color:"default",dangerouslySetSvgPath:{__path:"M14.1949 5.63371C13.6142 5.67979 12.9433 5.72587 12.2725 5.81599C11.2452 5.94813 10.2179 6.12838 9.36955 6.52953C7.71684 7.20308 6.59945 8.63353 6.59945 10.7369C6.59945 13.3782 8.29756 14.7179 10.4409 14.7179C11.1571 14.7179 11.7372 14.6304 12.2725 14.4956C13.1229 14.2273 13.8378 13.7346 14.6861 12.8415C15.1788 13.5124 15.3116 13.8261 16.1613 14.5417C16.3843 14.6318 16.6072 14.6318 16.7861 14.497C17.3221 14.0504 18.2592 13.2447 18.7519 12.7975C18.9741 12.6166 18.9301 12.3503 18.7966 12.1253C18.3039 11.4992 17.814 10.9611 17.814 9.75499V5.7279C17.814 4.02505 17.9462 2.46043 16.698 1.29832C15.6694 0.355749 14.0614 0 12.8119 0C12.633 0 12.4547 0 12.2752 0C9.99703 0.133491 7.58539 1.11604 7.04804 3.93764C6.95995 4.29339 7.22896 4.42959 7.40717 4.47499L9.90826 4.7894C10.1766 4.74197 10.3101 4.51971 10.3541 4.29474C10.5798 3.31287 11.3828 2.82025 12.2759 2.73012C12.3213 2.73012 12.366 2.73012 12.4554 2.73012C12.9907 2.73012 13.5708 2.95509 13.8845 3.39893C14.2389 3.93764 14.1969 4.65456 14.1969 5.27932L14.1949 5.63371ZM13.7036 10.9584C13.3912 11.5852 12.8545 11.9877 12.2738 12.1226C12.1851 12.1226 12.0522 12.1687 11.9174 12.1687C10.9349 12.1687 10.3521 11.4077 10.3521 10.2883C10.3521 8.8585 11.2018 8.18495 12.2738 7.87256C12.8545 7.73907 13.5254 7.693 14.1955 7.693V8.23035C14.1949 9.26032 14.2369 10.0647 13.7036 10.9584ZM24 17.1715V17.3172C23.9763 18.192 23.5148 19.8705 22.4225 20.7941C22.2043 20.9635 21.9854 20.8666 22.0817 20.6219C22.3995 19.8461 23.1259 18.045 22.7864 17.6323C22.5458 17.3172 21.5491 17.3409 20.7 17.4141C20.3124 17.4629 19.9716 17.4852 19.7046 17.5381C19.4627 17.5605 19.4125 17.3436 19.6565 17.1742C19.9722 16.9554 20.3131 16.7859 20.7007 16.6619C22.0823 16.25 23.6863 16.4925 23.9051 16.7609C23.9526 16.83 24 16.9757 24 17.1715ZM21.6947 18.8723C21.379 19.1142 21.0408 19.3345 20.7 19.5317C18.1515 21.0637 14.8515 21.8633 11.9885 21.8633C7.376 21.8633 3.25066 20.1612 0.120748 17.3172C-0.147588 17.0977 0.0712821 16.7826 0.387052 16.952C3.76023 18.9211 7.93436 20.1137 12.2542 20.1137C14.9735 20.1137 17.9069 19.6028 20.6993 18.5071C20.8924 18.4366 21.1113 18.3363 21.3058 18.2659C21.7429 18.0687 22.1318 18.5586 21.6947 18.8723Z"},size:24})}),{}):"target"===a?(0,r.jsx)(()=>(0,r.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(i.JO,{accessibilityLabel:t.bt("Target icon", "Target Icon", "claim.claimaccount.Icon", undefined, true),color:"default",dangerouslySetSvgPath:{__path:"M12.0005 0C18.627 0 24 5.373 24 12.0005 24 18.627 18.627 24 11.9995 24 5.373 24 0 18.627 0 11.9995 0 5.373 5.373 0 12.0005 0zm0 19.826a7.8265 7.8265 0 10-.001-15.652C7.7133 4.2246 4.2653 7.7136 4.2653 12c0 4.2864 3.448 7.7754 7.7342 7.826h.001zm0-3.9853a3.8402 3.8402 0 110-7.6803c2.1204.0006 3.839 1.7197 3.839 3.8401s-1.7186 3.8396-3.839 3.8402z"},size:24})}),{}):(0,r.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(i.JO,{accessibilityLabel:t.bt("Social media connect icon", "Social Media Connect Icon", "claim.claimaccount.Icon", undefined, true),color:"default",icon:a,size:24})})}},619942:function(e,t,a){a.d(t,{Ch:()=>q,NV:()=>$,ZP:()=>ee});var o=a(686659),s=a(667294),i=a(312048),l=a(147712),r=a(740097),n=a(737368),c=a(404583),d=a(47755),u=a(924591),_=a(935059),m=a(24246),h=a(216975),g=a(501010),p=a(661376),f=a(247387),b=a(577356),x=a(893957),y=a(693068),C=a(236269),v=a(465784),w=a(785893);function P({title:e,message:t,confirmText:a,cancelText:i,accessibilityLabel:l,onConfirm:n,onCancel:c,size:d}){(0,s.useEffect)(()=>{(0,o.Z)("ConfirmationModal","/app/common/react/components/settings/UserSettingsPage/Common/ConfirmationModal.tsx")},[]);let u=(0,m.Z)(),_=(0,s.useMemo)(()=>({confirm:u.bt("Confirm", "Confirm", "confirmation.modal.button.confirm", undefined, true),cancel:u.bt("Cancel", "Cancel", "confirmation.modal.button.cancel", undefined, true)}),[]);return(0,w.jsx)(v.ZP,{accessibilityModalLabel:l||"",footer:(0,w.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[(0,w.jsx)(r.zx,{color:"gray",onClick:c,text:i||_.cancel}),(0,w.jsx)(r.zx,{color:"red",onClick:n,text:a||_.confirm})]}),heading:(0,w.jsx)(r.qd,{size:"400",children:e}),isOpen:!0,onDismiss:c||(()=>{}),size:d,children:(0,w.jsx)(r.xu,{marginEnd:2,marginStart:6,children:(0,w.jsx)(r.xv,{size:"300",children:t})})})}function A({onCancel:e,onConfirm:t}){(0,s.useEffect)(()=>{(0,o.Z)("ConfirmBackfillModal","/app/www/settings/UserSettingsPage/Claim/AutoPublishInstagram/ConfirmBackfillModal.tsx")},[]);let a=(0,m.Z)();return(0,w.jsx)(P,{accessibilityLabel:a.bt("Whether you want to backfill Instagram posts from the last 90 days", "Whether you want to back fill Instagram posts from the last 90 days", "instagram.claiming.backfill.modal.accessibilityModalLabel", undefined, true),cancelText:a.bt("No", "No", "instagram.claiming.backfill.modal.no.text", undefined, true),confirmText:a.bt("Yes", "Yes", "instagram.claiming.backfill.modal.yes.text", undefined, true),message:a.bt("By enabling auto-publish, you have the option to import Instagram posts from the last 90 days", "By enabling auto-publish you have the option to import Instagram posts from the last 90 days", "instagram.claiming.backfill.modal.text", undefined, true),onCancel:e,onConfirm:t,title:a.bt("Publish Instagram posts from the last 90 days?", "Publish Instagram posts from the last 90 days?", "instagram.claiming.backfill.modal.header", undefined, true)})}let z="/v3/feed_ingestion/feeds/instagram/";var j=a(254636);function I({title:e,expanded:t=!1,children:a}){(0,s.useEffect)(()=>{(0,o.Z)("SettingsExpander","/app/common/react/components/settings/UserSettingsPage/Common/SettingsExpander.tsx")},[]);let i=(0,s.useId)();return(0,w.jsxs)("div",{className:"settings-expander-wrapper",children:[(0,w.jsx)("style",{children:`
        .settings-expander-wrapper > div {
          width: fit-content;
          min-width: 100%;
        }
      `}),(0,w.jsx)(r.UQ.Expandable,{expandedIndex:t?0:void 0,id:i,items:[{children:a,title:e}],size:"md"})]})}var k=a(739405);function S({handleChange:e,isAutoPublishDisabled:t}){(0,s.useEffect)(()=>{(0,o.Z)("AutoPublishSwitchV2","/app/www/settings/UserSettingsPage/Claim/AutoPublishInstagram/AutoPublishSwitchV2.tsx")},[]);let a=(0,m.Z)(),[i,l]=(0,s.useState)(!1);return(0,w.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,w.jsxs)(r.kC,{alignItems:"center",gap:1,children:[(0,w.jsx)(r.qd,{accessibilityLevel:3,size:"200",children:t?a.bt("Auto-publishing disabled", "Auto-publish disabled", "instagram.claiming.pause.autopublish.label.disabled", undefined, true):a.bt("Disable auto-publishing", "Disable auto-publish", "instagram.claiming.pause.autopublish.label.enabled", undefined, true)}),(0,w.jsx)(r.u,{text:a.bt("When toggled, we'll stop auto-publishing new posts from Instagram. If you disable and later enable this, content posted on Instagram while it was disabled won't be auto-published.", "While toggled, we'll stop auto-publishing new posts from Instagram. If you disable and later enable, content posted on Instagram while disabled won't be auto-published.", "instagram.claiming.pause.autopublish.text", undefined, true),children:(0,w.jsx)(r.hU,{accessibilityLabel:"Additional info",bgColor:"white",icon:"info-circle",iconColor:"darkGray",size:"md"})})]}),(0,w.jsx)(r.rs,{id:"auto-publish-disable-switch",onChange:({value:t})=>{t?l(!0):e(!1)},switched:t}),i&&(0,w.jsx)(P,{accessibilityLabel:a.bt("Confirm that you want to disable auto-publishing of Instagram posts", "Confirm that you want to disable auto-publishing of Instagram posts", "instagram.claiming.disable.auto.publish.confirmation.accessibility.label", undefined, true),message:a.bt("New Instagram posts will not be published automatically to Pinterest. This will not impact any of your existing Pins created from auto-publishing.", "New Instagram Posts will not be automatically published to Pinterest. This will not impact any of your existing Pins created from auto-publish.", "instagram.claiming.disable.auto.publish.confirmation.message", undefined, true),onCancel:()=>{l(!1)},onConfirm:()=>{l(!1),e(!0)},title:a.bt("Confirm disable auto-publishing?", "Confirm disable auto-publish?", "instagram.claiming.disable.auto.publish.confirmation.title", undefined, true)})]})}var T=a(514223);function E({filterKeywords:e,handleUpdateFilterKeywords:t,isAutoPublishDisabled:a,showUpdatedHelperText:i}){(0,s.useEffect)(()=>{(0,o.Z)("KeywordFiltering","/app/www/settings/UserSettingsPage/Claim/ClaimInstagram/KeywordFiltering.tsx")},[]);let l=(0,m.Z)(),n=(0,s.useRef)(null),[c,d]=(0,s.useState)(!1),[u,_]=(0,s.useState)(e||[]),[g,p]=(0,s.useState)("");(0,s.useEffect)(()=>{_((e||[]).sort()),d(!1)},[e,_,d]);let f=(0,h.Wc)(l.bt("Max {{max_character_count}} characters per tag", "Max {{max_character_count}} characters per tag", "ClaimInstagram.KeywordFiltering.ErrorMessage", undefined, true),{max_character_count:String(35)}),b=(0,s.useCallback)(e=>{t(e,d)},[t]),x=e=>u.length>=25?()=>{}:e,y=u.map((e,t)=>(0,w.jsx)(r.Vp,{accessibilityRemoveIconLabel:`Remove ${e} tag`,onRemove:()=>{let e=[...u];e.splice(t,1),b(e),n.current&&n.current.focus()},size:"sm",text:e},e)),C=i?l.bt("Press Enter or use a comma to add each keyword", "Press Enter or use a comma to add each keyword", "ClaimInstagram.KeywordFiltering.HelperText", undefined, true):void 0;return(e?.length??0)>=25&&(C=l.bt("Maximum of 25 keywords reached", "Maximum of 25 keywords reached", "ClaimInstagram.KeywordFiltering.helperText-limitReached", undefined, true)),(0,w.jsx)(r.nv,{autoComplete:"off",disabled:c||a,helperText:C,id:"ig-keyword-filtering",label:l.bt("Enter a word, phrase or hashtag", "Enter a word, phrase or hashtag", "ClaimInstagram.KeywordFiltering.InputLabel", undefined, true),maxLength:{characterCount:35,errorAccessibilityLabel:f},onChange:x(e=>{let t=e.value.split(",");if(t.length>1){let e=t.filter(e=>""!==e);e.length>0&&b([...u,...e]),p("")}else p(t[t.length-1]||"")}),onKeyDown:x(({event:{keyCode:e}})=>{e===T.Z.ENTER&&""!==g.trim()&&(b([...u,g.trim()]),p(""))}),size:"lg",tags:y,value:g})}function B({filterKeywords:e,handleUpdateFilterKeywords:t,isAutoPublishDisabled:a,showUpdatedHelperText:i}){(0,s.useEffect)(()=>{(0,o.Z)("KeywordFiltering","/app/www/settings/UserSettingsPage/Claim/ClaimInstagram/KeywordFiltering.tsx")},[]);let l=(0,m.Z)();return(0,w.jsxs)(r.xu,{marginTop:5,children:[(0,w.jsx)(r.qd,{accessibilityLevel:3,size:"200",children:l.bt("Exclude by keyword", "Exclude by keywords", "ClaimInstagram.KeywordFiltering.Header", undefined, true)}),(0,w.jsx)(r.xv,{size:"200",children:l.bt("Automatically exclude branded, sponsored or copyrighted Instagram content from auto-publishing by adding caption phrases, hashtags or keywords.", "Automatically exclude branded, sponsored, or copyrighted Instagram content from auto-publishing by adding caption phrases, hashtags, or keywords.", "ClaimInstagram.KeywordFiltering.Subtext", undefined, true)}),(0,w.jsx)(r.xu,{marginTop:3,children:(0,w.jsx)(E,{filterKeywords:e,handleUpdateFilterKeywords:t,isAutoPublishDisabled:a,showUpdatedHelperText:i})})]})}function Z({filterKeywords:e,handleUpdateAutoPublish:t,handlePauseAutoPublish:a,handleBoardSelection:i,handleUpdateFilterKeywords:l,selectedBoard:n,instagramFeed:c,disableBoardPickerButton:d,hasDeletedBoardError:u}){(0,s.useEffect)(()=>{(0,o.Z)("FeedConnected","/app/www/settings/UserSettingsPage/Claim/AutoPublishInstagram/FeedConnected.tsx")},[]);let _="desktop"===(0,k.ZP)(),p=(0,m.Z)(),{showAlert:f,hideAlert:b}=(0,y.d)(),{checkExperiment:x}=(0,g.Z)(),C=x("dweb_ig_keyword_filtering").anyEnabled,v=x("web_ig_keyword_filtering_in_claim_flow").anyEnabled,P=C||v,A={title:c?.board?.name||"",boardId:c?.board?.id||"",url:c?.board?.url||""},z=null;c?.section?z={title:c.section.title,boardId:c.section.id,url:c.section.slug}:c?.board&&(z={title:A.title,boardId:A.boardId,url:A.url}),z?.url?.includes("quick_saves")&&(z.title=p.bt("Profile", "Profile", "instagram.claiming.select.board.dropdown.profile.label", undefined, true));let[T,E]=(0,s.useState)(!!c&&!c.is_ingestion_enabled);(0,s.useEffect)(()=>{c?.is_ingestion_enabled===!1&&E(!0)},[c,c?.is_ingestion_enabled,E]);let Z=c?.fallback_board,R=Z?{title:Z?.name,boardId:Z?.id,url:Z?.url}:null,O=n||z||R||{title:"",boardId:"",url:""};if((0,s.useEffect)(()=>{u&&c?.is_ingestion_enabled&&R?(i(R),f({message:(0,h.nk)(p.bt("The board you selected is missing or deleted. Weâ€™ll auto-publish your Instagram posts to your {{board}} board until you select a new board.", "The board you selected is missing or deleted. Weâ€™ll auto-publish your Instagram posts to your {{board}} board until you select a new board.", "ClaimInstagram.BoardError.BoardDeleted", undefined, true),{board:R.title}).join(""),type:"warning",primaryAction:{accessibilityLabel:p.bt("Change board", "Change board", "ClaimInstagram.BoardWarning.Button.ChangeBoard", undefined, true),label:p.bt("Change board", "Change board", "ClaimInstagram.BoardWarning.Button.ChangeBoard", undefined, true),onClick:()=>{let e=document.querySelector('#ig-select-board [role="button"]');e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>e.click(),300))}}})):b()},[u,R?.title,c?.is_ingestion_enabled]),!c)return null;let M=n?.privacy==="secret";return(0,w.jsx)(r.xu,{marginStart:8,minWidth:_?460:void 0,children:(0,w.jsx)(I,{expanded:!0,title:p.bt("Account claiming settings", "Account Claiming Settings", "instagram.claiming.autopublish.settings.expander", undefined, true),children:(0,w.jsxs)(r.kC,{direction:"column",gap:4,children:[!T&&(0,w.jsxs)(r.xu,{"data-test-id":"board-picker-dropdown",children:[(0,w.jsx)(r.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:(0,w.jsx)(r.xv,{size:"200",children:p.bt("Selected board for Instagram posts", "Selected board for Instagram posts", "instagram.claiming.select.board.dropdown.label", undefined, true)})}),(0,w.jsxs)(r.xu,{marginTop:2,children:[(0,w.jsxs)(r.kC,{alignContent:"between",alignItems:"center",gap:2,children:[(0,w.jsx)(r.xu,{flex:"grow",id:"ig-select-board",width:_?330:void 0,children:(0,w.jsx)(j.Z,{disableDefaultBoard:!0,onItemChosen:i,placeholder:p.bt("Select a board", "Select a board", "instagram.claiming.select.board.dropdown.placeholder", undefined, true),selectedItem:O,showButton:!1,showFlyoutSaveButton:!1,showSaveToProfile:u&&!O||void 0,showSectionSaveButton:!1})}),(0,w.jsx)(r.xu,{flex:"none",children:(0,w.jsx)(r.zx,{color:"red",dataTestId:"board-update-button",disabled:!O||d,onClick:()=>{t()},size:"md",text:p.bt("Update", "Update", "instagram.claiming.update.board", undefined, true)})})]}),(0,w.jsxs)(r.xu,{alignItems:"center",display:"flex",marginBottom:1,marginTop:3,children:[M&&(0,w.jsx)(r.JO,{accessibilityLabel:p.bt("lock", "lock", "ClaimInstagram.FeedConnected.PrivateBoard.Lock", undefined, true),color:"default",icon:"lock"}),(0,w.jsx)(r.xv,{color:"subtle",size:"100",children:M?p.bt("You have selected a private board â€“ your posts are not visible to Pinners", "You have selected a private board, your posts are not visible to Pinners", "instagram.claiming.select.board.dropdown.helper.text.private", undefined, true):p.bt("If your board is private, Pinners can't view your content.", "If your board is private, Pinners can't view your content.", "instagram.claiming.select.board.dropdown.helper.text", undefined, true)})]})]})]}),P&&(0,w.jsxs)(r.xu,{children:[(0,w.jsx)(r.iz,{}),(0,w.jsx)(B,{filterKeywords:e,handleUpdateFilterKeywords:l,isAutoPublishDisabled:T,showUpdatedHelperText:v})]}),(0,w.jsxs)(r.kC,{direction:"column",gap:4,children:[(0,w.jsx)(r.iz,{}),(0,w.jsx)(S,{handleChange:e=>{E(e),a(e,!0)},isAutoPublishDisabled:T})]})]})})})}function R({filterKeywords:e,claimNetwork:t,instagramFeedResource:a,isConnected:i,loggingFunctions:l,showToast:n,onUpdateFilterKeywords:c}){(0,s.useEffect)(()=>{(0,o.Z)("AutoPublishInstagram","/app/www/settings/UserSettingsPage/Claim/AutoPublishInstagram/AutoPublishInstagram.tsx")},[]);let u=(0,m.Z)(),[_,h]=(0,s.useState)(null),[g,p]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1),{showAlert:x,hideAlert:v,alert:P}=(0,y.d)(),{data:j}=a,I=j&&j[0]||null,k=I?.board,S=!!(i&&I&&!k),T=async()=>{if(!_||!I)return;let e=!_.boardId,o=!_.sectionId;i||await t(),_.boardId&&_.sectionId&&l.logTapUpdateBoard(_.boardId,_.sectionId);try{await (0,d.Z)({url:z,method:"PUT",data:{feed_id:I.id,board:_.boardId||void 0,section:_.sectionId||void 0,save_to_profile:e,should_clear_section:o}}),l.logAutoPublishSuccess({action:"update"}),n({text:u.bt("Board successfully updated", "Board is successfully updated", "instagram.claiming.update.board.toast.text.updated", undefined, true)}),p(!0),a.refresh()}catch(e){l.logAutoPublishFailure({action:"update"}),n({text:(0,C.Z)(e,"message")??"",error:!0}),p(!0)}},E=async(e,t)=>{if(I)if(e||t){l.logTapPauseAutoPublish();try{await (0,d.Z)({url:z,method:"PUT",data:{feed_id:I.id,is_ingestion_enabled:!e}}),l.logAutoPublishSuccess({action:"pause"}),n({text:e?u.bt("Successfully disabled auto-publishing", "Successfully disabled auto-publish", "Instagram.AutoPublish.Toast.Disabled", undefined, true):u.bt("Successfully enabled auto-publishing", "Successfully enabled auto-publish", "Instagram.AutoPublish.Toast.Enabled", undefined, true)}),a.refresh()}catch(e){l.logAutoPublishFailure({action:"pause"}),n({text:(0,C.Z)(e,"message")??"",error:!0})}}else b(!0)},B=async e=>{if(I){l.logTapUnpauseAutoPublish(e);try{await (0,d.Z)({url:z,method:"PUT",data:{feed_id:I.id,is_ingestion_enabled:!0,is_backfilled:e}}),l.logAutoPublishSuccess({action:"unpause"}),e?n({text:u.bt("Auto-publish enabled. Importing your previous posts may take 48-72 hours.", "Auto-publish enabled. Importing your previous pasts may take 48-72 hours.", "instagram.autopublish.and.backfill.enabled", undefined, true)}):n({text:u.bt("Auto-publish enabled.", "Auto-publish enabled.", "instagram.autopublish.enabled", undefined, true)}),a.refresh()}catch(e){l.logAutoPublishFailure({action:"unpause"}),n({text:(0,C.Z)(e,"message")??"",error:!0})}}};return(0,w.jsxs)(r.xu,{paddingY:4,children:[f&&(0,w.jsx)(A,{onCancel:()=>{b(!1),B(!1)},onConfirm:()=>{b(!1),B(!0)}}),(0,w.jsx)(r.xu,{"data-test-id":"connected-feed-container",children:(0,w.jsx)(Z,{disableBoardPickerButton:g,filterKeywords:e,handleBoardSelection:e=>{h(e),p(!1),e?.privacy!=="secret"||P?S||v():x({type:"info",message:u.bt("The board you selected for auto-publishing is private. Your posts are not visible to Pinners. Edit Instagram claiming settings to change.", "The board you selected for auto-publish is private. Your posts are not visible to Pinners. Edit Instagram claiming settings to change.", "ClaimInstagram.BannerAlert.PrivateBoard", undefined, true),closable:!0})},handlePauseAutoPublish:E,handleUpdateAutoPublish:T,handleUpdateFilterKeywords:c,hasDeletedBoardError:S,instagramFeed:I,selectedBoard:_})})]})}var O=a(681698);function M({children:e,instagramFeedResource:t,loggingFunctions:a,showToast:o}){let i=(0,m.Z)(),[l,r]=(0,s.useState)(!1),{data:n}=t||{},c=(n&&n[0])??null;return e({handleUpdateFilterKeywords:async(e,s)=>{if(c){s(!0),r(!0);try{await (0,O.Z)({url:z,method:"PUT",data:{feed_id:c.id,filter_keywords:e}}),a.logUpdateFilterKeywordsSuccess(),r(!1),o({text:i.bt("Filter keywords were updated successfully", "Filter keywords were successfully updated", "instagram.claiming.update.filterKeywords.toast.text.updated", undefined, true)}),t?.refresh()}catch(e){a.logUpdateFilterKeywordsFailure(),o({text:(0,C.Z)(e,"message")??"",error:!0}),s(!1),r(!1)}}},filterKeywords:c?.filter_keywords||[],filterKeywordsUpdating:l})}var L=a(385667),D=a(319226),N=a(523421);function U({setSelectedBackfillOption:e,selectedBackfillOption:t}){(0,s.useEffect)(()=>{(0,o.Z)("ClaimInstagramConfirmationBackfillOptionsRadioGroup","/app/www/settings/UserSettingsPage/Claim/ClaimInstagram/ClaimInstagramConfirmationBackfillOptionsRadioGroup.tsx")},[]);let a=(0,m.Z)(),i=[{backfillOption:N.d2.QUARTER,label:a.bt("90 days", "90 days", "ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroup.RadioButton.QuarterYear", undefined, true)},{backfillOption:N.d2.HALF_YEAR,label:a.bt("180 days", "180 days", "ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroup.RadioButton.HalfYear", undefined, true)},{backfillOption:N.d2.YEAR,label:a.bt("365 days", "365 days", "ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroup.RadioButton.Year", undefined, true)},{backfillOption:N.d2.NONE,label:a.bt("None", "None", "ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroup.RadioButton.None", undefined, true)}];return(0,w.jsxs)(s.Fragment,{children:[(0,w.jsx)(r.xv,{size:"300",children:a.bt("Also publish posts from the last:", "Also publish posts from the last:", "ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroupLabelText", undefined, true)}),(0,w.jsx)(r.xu,{smPaddingY:3,children:(0,w.jsx)(r.FX,{id:"claim-confirmation-modal-publish-backfill-radio-group",legend:a.bt("Choose the number of days to backfill Instagram content", "Choose the number of days to backfill Instagram content", "ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroupLegendText", undefined, true),legendDisplay:"hidden",children:i.map(a=>(0,w.jsx)(s.Fragment,{children:(0,w.jsx)(r.FX.RadioButton,{checked:t===a.backfillOption,id:a.backfillOption,label:a.label,name:"backfillOption",onChange:()=>{e(a.backfillOption)},value:a.backfillOption})},a.backfillOption))})}),(0,w.jsx)(r.xv,{color:"subtle",size:"200",children:a.bt("Content is generally imported within 2-5 days.", "Content is generally imported within 2-5 days.", "ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroupHelperTextMain", undefined, true)}),(0,w.jsx)(r.xu,{smMarginTop:1,children:(0,w.jsx)(r.xv,{color:"subtle",size:"200",children:(0,w.jsx)(r.rU,{display:"inline",externalLinkIcon:{size:"200"},href:"https://help.pinterest.com/article/claim-your-account",target:"blank",children:a.bt("Find out more about imports", "Learn more about imports", "ClaimAccounts.ClaimConfirmationModal.PublishBackfillRadioGroupHelperTextLink", undefined, true)})})})]})}function F({backfillOption:e,setBackfillOption:t}){(0,s.useEffect)(()=>{(0,o.Z)("ClaimInstagramBackfill","/app/www/settings/UserSettingsPage/Claim/ClaimInstagram/ClaimInstagramBackfill.tsx")},[]);let a=(0,m.Z)();return(0,w.jsxs)(s.Fragment,{children:[(0,w.jsx)(r.X6,{size:"400",children:a.bt("We created a new board for your Instagram posts", "We created a new board for your Instagram posts", "ClaimAccounts.ClaimConfirmationModal.BodySubHeader", undefined, true)}),(0,w.jsx)(r.xu,{paddingY:2,children:(0,w.jsx)(r.xv,{children:a.bt("You can select a different board or rename the board at any time after finishing setup.", "You can select a different board or rename the board any time after finishing setup.", "ClaimAccounts.ClaimConfirmationModal.BodyText", undefined, true)})}),(0,w.jsxs)(r.xu,{paddingY:5,children:[(0,w.jsx)(r.xv,{size:"100",children:a.bt("Board name", "Board name", "ClaimAccounts.ClaimConfirmationModal.BoardNameLabel", undefined, true)}),(0,w.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,w.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",marginTop:1,padding:3,rounding:2,children:(0,w.jsx)(r.JO,{accessibilityLabel:a.bt("Save to profile icon", "Save to profile icon", "ClaimAccounts.ClaimConfirmationModal.DefaultBoardLabel", undefined, true),color:"default",icon:"history",size:24})}),(0,w.jsx)(r.xv,{size:"400",weight:"bold",children:a.bt("Social", "Social", "ClaimAccounts.ClaimConfirmationModal.DefaultBoardText", undefined, true)})]})]}),(0,w.jsx)(r.xu,{children:(0,w.jsx)(U,{selectedBackfillOption:e,setSelectedBackfillOption:t})})]})}function W({username:e,userProfileUrl:t}){(0,s.useEffect)(()=>{(0,o.Z)("ClaimInstagramBackfill","/app/www/settings/UserSettingsPage/Claim/ClaimInstagram/ClaimInstagramBackfill.tsx")},[]);let a=(0,m.Z)();return(0,w.jsxs)(r.kC,{alignItems:"center",direction:"column",gap:2,children:[(0,w.jsx)(r.X6,{accessibilityLevel:1,size:"600",children:(0,w.jsx)(r.xu,{"data-test-id":"claim-instagram-confirmation-heading-header",children:a.bt("Congrats!", "Congrats!", "ClaimAccounts.ClaimConfirmationModal.Heading", undefined, true)})}),(0,w.jsx)(r.xv,{children:(0,w.jsx)("span",{"data-test-id":"claim-instagram-confirmation-heading-text",children:e&&t?(0,w.jsxs)("span",{children:[a.bt("Your Pinterest is connected to ", "Your Pinterest is connected to ", "ClaimAccounts.ClaimConfirmationModal.HeaderTextWithUsername", undefined, true),(0,w.jsx)(r.rU,{accessibilityLabel:a.bt("Go to your Instagram profile", "Go to your Instagram profile", "ClaimAccounts.ClaimConfirmationModal.InstagramProfileLink", undefined, true),display:"inline",href:t,target:"blank",children:`@${e}`})]}):a.bt("Your Pinterest is connected", "Your Pinterest is connected", "ClaimAccounts.ClaimConfirmationModal.HeaderTextWithoutUsername", undefined, true)})})]})}function K({filterKeywords:e,onUpdateFilterKeywords:t}){let a=(0,m.Z)();return(0,w.jsxs)(r.kC,{direction:"column",gap:4,children:[(0,w.jsx)(r.xv,{children:a.bt("You can exclude branded, sponsored or copyrighted Instagram posts from publishing to Pinterest by adding caption phrases, hashtags or keywords.", "You can exclude branded, sponsored or copyrighted Instagram posts from publishing to Pinterest by adding caption phrases, hashtags or keywords.", "ClaimInstagram.KeywordFiltering.BodyText.Details_1", undefined, false)}),(0,w.jsx)(r.xv,{children:a.bt("Keywords can be changed in settings at any time.", "Keywords can be changed in settings at any time.", "ClaimInstagram.KeywordFiltering.BodyText.Details_2", undefined, false)}),(0,w.jsx)(E,{filterKeywords:e,handleUpdateFilterKeywords:t,isAutoPublishDisabled:!1,showUpdatedHelperText:!0})]})}let H=Object.freeze({BACKFILL_OPTIONS:"backfill-options",KEYWORD_FILTERING:"keyword-filtering"});function Y({filterKeywords:e,filterKeywordsUpdating:t,username:a,userProfileUrl:i,onDoneWithBackfillSelection:l,onDoneWithKeywordFiltering:n,onUpdateFilterKeywords:c}){(0,s.useEffect)(()=>{(0,o.Z)("ClaimInstagramConfirmation","/app/www/settings/UserSettingsPage/Claim/ClaimInstagram/ClaimInstagramConfirmation.tsx")},[]);let d=(0,m.Z)(),{checkExperiment:u}=(0,g.Z)(),_=u("web_ig_keyword_filtering_in_claim_flow").anyEnabled,[p,f]=(0,s.useState)(N.d2.YEAR),[b,x]=(0,s.useState)(H.BACKFILL_OPTIONS),y=d.bt("Done", "Done", "Exclude by keywords", undefined, true),C=()=>{_?x(H.KEYWORD_FILTERING):l(p)},v=(()=>{switch(b){case"backfill-options":return{contents:(0,w.jsx)(F,{backfillOption:p,setBackfillOption:f}),footer:(0,w.jsx)(r.kC,{justifyContent:"center",children:(0,w.jsx)(r.zx,{color:"red",dataTestId:"claim-confirmation-modal-done-button",onClick:C,size:"lg",text:_?d.bt("Next", "Next", "ClaimAccounts.ClaimConfirmationModal.NextButton", undefined, true):y})})};case"keyword-filtering":return{contents:(0,w.jsx)(K,{filterKeywords:e,onUpdateFilterKeywords:c}),footer:(0,w.jsxs)(r.kC,{justifyContent:"between",children:[(0,w.jsx)(r.zx,{color:"transparent",dataTestId:"claim-confirmation-modal-done-button",onClick:()=>x(H.BACKFILL_OPTIONS),size:"lg",text:d.bt("Previous", "Previous", "ClaimAccounts.ClaimConfirmationModal.BackButton", undefined, true)}),(0,w.jsx)(r.zx,{color:"red",dataTestId:"claim-confirmation-modal-done-button",disabled:t,onClick:n,size:"lg",text:y})]})};default:return{contents:null,footer:null}}})(),P=null;return P=_?b===H.BACKFILL_OPTIONS?(0,w.jsx)(r.X6,{accessibilityLevel:1,size:"600",children:(0,h.nk)(d.bt("Almost done! Finish linking @{{username}} to your Pinterest account.", "Almost done! Finish linking @{{username}} to your Pinterest account.", "ClaimInstagram.ConfirmationModal.BackfillStep.Heading", undefined, false),{username:a})}):(0,w.jsx)(r.X6,{accessibilityLevel:1,size:"600",children:(0,h.nk)(d.bt("Exclude by keywords (optional)", "Exclude by keywords (optional)", "ClaimInstagram.ConfirmationModal.KeywordFilteringStep.Heading", undefined, false),{username:a})}):(0,w.jsx)(W,{username:a,userProfileUrl:i}),(0,w.jsx)(D.u_,{accessibilityModalLabel:d.bt("Instagram account claimed", "Instagram account claimed", "ClaimAccounts.ClaimConfirmationModal.AccessibilityLabel", undefined, true),align:"start",closeOnOutsideClick:!1,footer:v.footer,heading:P,isOpen:!0,onDismiss:()=>{},padding:"default",size:"sm",children:(0,w.jsx)(r.xu,{paddingX:7,paddingY:2,children:v.contents})})}function X({isIngestionEnabled:e,handleReclaim:t}){(0,s.useEffect)(()=>{(0,o.Z)("ClaimInstagramReclaimBanner","/app/www/settings/UserSettingsPage/Claim/ClaimInstagram/ClaimInstagramReclaimBanner.tsx")},[]);let a=(0,m.Z)(),i=new Date<new Date("2024-12-04"),l="";return l=l=i?e?a.bt("Reclaim your account by 4 December 2024 to continue auto-publishing.", "Reclaim your account by December 4, 2024 to continue auto-publishing.", "InstagramMigrationBanner.message.isPublishedNotIsNewApi", undefined, true):a.bt("Reclaim your account by 4 December 2024 to continue getting attribution and analytics for your future Instagram content on Pinterest.", "Reclaim your account by December 4, 2024 to continue getting attribution and analytics for your future Instagram content on Pinterest.", "InstagramMigrationBanner.message.notIsPublishedNotIsNewApi", undefined, true):e?a.bt("Your Instagram posts are no longer being auto-published to Pinterest. Reclaim your account to continue.", "Your Instagram posts are no longer auto-publishing to Pinterest. Reclaim your account to continue.", "InstagramMigrationBanner.message.isPublishedIsNewApi", undefined, true):a.bt("Your Instagram has been unlinked. Reclaim your account to continue getting attribution and analytics for your future Instagram content on Pinterest.", "Your Instagram has been unlinked. Reclaim your account to continue getting attribution and analytics for your future Instagram content on Pinterest.", "InstagramMigrationBanner.message.notIsPublishedIsNewApi", undefined, true),(0,w.jsx)(r.he,{iconAccessibilityLabel:a.bt("Warning", "Warning", "pinbuilder.common.warningBanner.icon", undefined, true),message:l,primaryAction:{accessibilityLabel:a.bt("Reclaim your account to update connection", "Reclaim your account to update connection", "InstagramMigrationBanner.ReclaimButtonA11yLabel", undefined, true),label:a.bt("Reclaim", "Reclaim", "InstagramMigrationBanner.ReclaimButtonLabel", undefined, true),onClick:t,role:"button"},type:i?"warning":"error"})}function V({username:e,userProfileUrl:t,onDone:a,boardName:i,loggingFunctions:l}){(0,s.useEffect)(()=>{(0,o.Z)("ReclaimInstagramConfirmationModal","/app/www/settings/UserSettingsPage/Claim/ClaimInstagram/ReclaimInstagramConfirmationModal.tsx")},[]);let n=(0,m.Z)();return(0,x.Z)(()=>{l.logViewBackfillMigrationSuccess()}),(0,w.jsx)(D.u_,{accessibilityModalLabel:n.bt("Instagram account reclaimed", "Instagram account reclaimed", "ClaimAccounts.ReclaimInstagramConfirmation.AccessibilityLabel", undefined, true),align:"start",closeOnOutsideClick:!1,footer:(0,w.jsx)(r.kC,{justifyContent:"center",children:(0,w.jsx)(r.zx,{color:"red",dataTestId:"reclaim-confirmation-modal-done-button",onClick:a,size:"lg",text:n.bt("Done", "Done", "ClaimAccounts.ReclaimInstagramConfirmation.DoneButton", undefined, true)})}),heading:(0,w.jsxs)(r.kC,{alignItems:"center",direction:"column",gap:2,children:[(0,w.jsx)(r.qd,{accessibilityLevel:1,size:"600",children:(0,w.jsx)(r.xu,{"data-test-id":"reclaim-instagram-confirmation-heading-header",children:n.bt("You're reconnected", "You're reconnected", "ClaimAccounts.ReclaimInstagramConfirmation.Heading", undefined, true)})}),(0,w.jsx)(r.xv,{children:(0,w.jsx)("span",{"data-test-id":"reclaim-instagram-confirmation-heading-text",children:e&&t?(0,w.jsxs)("span",{children:[n.bt("Your Pinterest is connected to ", "Your Pinterest is connected to ", "ClaimAccounts.ReclaimInstagramConfirmation.HeaderTextWithUsername", undefined, true),(0,w.jsx)(r.rU,{accessibilityLabel:n.bt("Go to your Instagram profile", "Go to your Instagram profile", "ClaimAccounts.ReclaimInstagramConfirmation.InstagramProfileLink", undefined, true),display:"inline",href:t,target:"blank",children:`@${e}`})]}):n.bt("Your Pinterest is connected", "Your Pinterest is connected", "ClaimAccounts.ReclaimInstagramConfirmation.HeaderTextWithoutUsername", undefined, true)})})]}),isOpen:!0,onDismiss:a,padding:"default",size:"sm",children:(0,w.jsxs)(r.xu,{paddingX:7,paddingY:0,children:[(0,w.jsx)(r.qd,{size:"400",children:n.bt("Your Instagram posts are being auto-published to board:", "Your Instagram posts are auto-publishing to board:", "ClaimAccounts.ReclaimInstagramConfirmation.BodySubHeader", undefined, true)}),(0,w.jsx)(r.xu,{marginBottom:5,marginTop:5,children:(0,w.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,w.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",marginTop:1,padding:3,rounding:2,children:(0,w.jsx)(r.JO,{accessibilityLabel:n.bt("Save to profile icon", "Save to profile icon", "ClaimAccounts.ReclaimInstagramConfirmation.DefaultBoardLabel", undefined, true),color:"default",icon:"history",size:24})}),(0,w.jsx)(r.xv,{size:"400",weight:"bold",children:i})]})}),(0,w.jsx)(r.xu,{marginBottom:2,children:(0,w.jsx)(r.xv,{color:"subtle",size:"300",weight:"bold",children:n.bt("Pinterest did not have access to auto-publish your Instagram content between 4 December 2024 and your reconnection.", "Pinterest had no access to auto-publish your Instagram content between December 4, 2024 and your reconnection.", "ClaimAccounts.ReclaimInstagramConfirmation.ReclaimWarningText", undefined, true)})}),(0,w.jsx)(r.xu,{children:(0,w.jsx)(r.xv,{color:"subtle",size:"300",children:n.bt("Your Instagram posts that fell within this time period will now be automatically auto-published to your connected board. Based on the content volume, this could take several days. Pins within this time period may appear out of order. As always, you can move or edit your Pins after theyâ€™ve been published.", "Your Instagram posts that fell within this gap will now automatically be auto-published to your connected board, and based on the content volume, could take up to days. Pins within this gap may appear out of order. As always, you can move or edit your pins after they're published.", "ClaimAccounts.ReclaimInstagramConfirmation.AutoPublishNoticeText", undefined, true)})})]})})}var G=a(743841);let q="claim_instagram",$="true",J="VALID",Q=l.z.object({resource_response:l.z.object({data:l.z.array(l.z.object({backfill_status:l.z.string().optional()}))})}),ee=e=>{(0,s.useEffect)(()=>{(0,o.Z)("ClaimInstagram","/app/www/settings/UserSettingsPage/Claim/ClaimInstagram/ClaimInstagram.tsx")},[]);let t=(0,m.Z)(),a=(0,_.Z)(),l=a.isAuth?a.socialNetwork?.instagram:void 0,y=l?.username??void 0,C=l?.url??void 0,{instagramFeedResource:v}=(0,G.p)(),[P,A]=(0,s.useState)(!1),[j,I]=(0,s.useState)(!1),[k,S]=(0,s.useState)(!1),{checkExperiment:T}=(0,g.Z)(),E=T("web_ig_keyword_filtering_in_claim_flow").anyEnabled,{showOneToast:B}=(0,b.dI)(),{search:Z}=(0,i.TH)(),O=(0,p.Z)({name:"UserSettingsResource",noCache:!0}),D=O.data?.instagram_data?.is_new_api,{claimNetwork:U,loggingFunctions:F,networkInfo:{connected:W,username:K,url:H,instagram_token_status:ee=J}}=e,et={username:K||y||"",url:H||C};async function ea(){v?.refresh(),I(!0)}(0,s.useEffect)(()=>{v?.refresh()},[]);let eo=()=>{F.logTapClaim(),A(!0),U(!1)({onSuccess(){F.logAccountClaimingSuccess(),ea()},onFailure(){F.logAccountClaimingFailure(),A(!1)},onExitAuth(){F.logAccountClaimingExitAuth(),A(!1)}}),v?.refresh()},es=()=>{F.logTapReclaim(),A(!0),U(!0)({onSuccess(e){F.logAccountReclaimingSuccess(),v?.refresh(),A(!1),e?.is_migration_backfilled===!0&&S(!0)},onFailure(){F.logAccountReclaimingFailure(),A(!1)},onExitAuth(){F.logAccountClaimingExitAuth(),A(!1)}}),v?.refresh()};(0,x.Z)(()=>{new URLSearchParams(Z).get(q)===$&&!function(){let e=window.open("","","width=1,height=1,left=0,top=0");return!e||(e.close(),!1)}()&&(W?W&&!D&&es():eo())});let ei=(0,s.useCallback)(()=>{if(!v)return null;let{data:e}=v;return e&&e[0]||null},[v]),el=(0,s.useCallback)(({text:e,error:t})=>{B(({hideToast:a})=>(0,w.jsx)(r.xu,{children:(0,w.jsx)(u.Z,{duration:3e3,onHide:a,text:e,type:t?"error":"default"})}))},[B]),er=(0,s.useCallback)(async e=>{let t=ei();if(!t)return void console.warn("IG feed should have been created on the backend.");let a={feed_id:t.id};a.backfill_option=e,await (0,c._)(async()=>{let e=await (0,d.Z)({url:z,method:"PUT",data:a}),t=Q.safeParse(e);return"backfilling"===(t.success?t.data.resource_response.data[0]?.backfill_status:void 0)||void 0})},[ei]),{is_ingestion_enabled:en}=ei()||{},ec=(0,s.useCallback)(e=>{if(I(!1),A(!1),F.logTapDone(e),e&&e!==N.d2.NONE&&er(e),!D)return void el({text:t.bt("You've reclaimed your Instagram account", "You reclaimed your Instagram account!", "ClaimInstagram.ReclaimButton.Done.Success.Toast", undefined, true)});E||el({text:t.bt("Instagram account successfully claimed and auto-publishing enabled", "Instagram account is successfully claimed, auto-publish is enabled", "ClaimInstagram.ClaimButton.Done.Success.Toast", undefined, true)})},[er,t,D,F,el,E]),ed=()=>{I(!1),A(!1),el({text:(0,h.nk)(t.bt("Now auto-publishing posts from @{{username}}", "Now auto-publishing posts from @{{username}}", "ClaimInstagram.ClaimButton.Done.Success.Toast", undefined, false),{username:et.username}).join("")})};return(0,w.jsxs)(r.xu,{"data-test-id":"instagram-account-container",children:[(0,w.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,w.jsx)(r.xu,{marginEnd:4,children:(0,w.jsx)(L.Z,{network:"instagram"})}),(0,w.jsx)(r.kC,{alignItems:"center",children:(0,w.jsx)(r.X6,{accessibilityLevel:2,size:"300",children:t.bt("Instagram", "Instagram", "ClaimInstagram.Label", undefined, true)})})]}),W&&!!et.username&&!!et.url&&(0,w.jsxs)(r.xu,{marginStart:10,marginTop:1,children:[(0,w.jsx)(r.xv,{color:"subtle",size:"200",children:(0,w.jsxs)(r.rU,{href:et.url,target:"blank",children:[t.bt("Connected to", "Connected to", "ClaimInstagram.connection.heading", undefined, true),` @${et.username}`]})}),!D&&(0,w.jsx)(r.xu,{marginTop:4,children:(0,w.jsx)(X,{handleReclaim:es,isIngestionEnabled:!!en})})]}),(0,w.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,w.jsx)(r.xu,{children:(0,w.jsx)(r.xu,{"data-test-id":"claim-instagram-text-container",marginStart:10,marginTop:1,children:W&&et.username&&et.url?(0,w.jsx)(r.xu,{children:(0,w.jsx)(r.xu,{marginTop:4,children:(0,w.jsx)(r.xv,{children:t.bt("Private Instagram posts will be visible to everyone, including non-Pinners, when auto-published. If your Pinterest account or board is private, posts will not be visible to others.", "Private Instagram posts will be visible to everyone, including non-Pinners, when auto-published. If your Pinterest account or board is private, posts will not be visible to others.", "ClaimInstagram.connection.subheadingShort", undefined, true)})})}):(0,w.jsxs)(r.xv,{size:"200",children:[t.bt("Connect your account to auto-publish your Instagram posts as Pins.", "Connect your account to auto-publish your Instagram posts as Pins.", "ClaimInstagram.description.textNew", undefined, true)," ",(0,w.jsx)(r.xv,{color:"link",inline:!0,weight:"bold",children:(0,w.jsx)(r.rU,{display:"inline",href:f.fTb,target:"blank",underline:"hover",children:t.bt("Learn more", "Learn more", "ClaimInstagram.description.LearnMoreLink", undefined, true)})})]})})}),(0,w.jsx)(r.xu,{flex:"none",marginStart:3,children:W?(0,w.jsxs)(r.kC,{gap:2,justifyContent:"start",children:[(0,w.jsx)(r.zx,{color:"gray",onClick:()=>{F.logTapUnclaim(),U(!1)({onSuccess:F.logAccountUnclaimingSuccess,onFailure:F.logAccountUnclaimingFailure})},size:"md",text:t.bt("Unclaim", "Unclaim", "ClaimInstagram.UnclaimText", undefined, true)}),ee!==J&&(0,w.jsx)(r.xu,{children:(0,w.jsx)(r.zx,{color:"red",onClick:es,size:"md",text:t.bt("Reconnect", "Reconnect", "ClaimInstagram.ReconnectText", undefined, true)})})]}):(0,w.jsx)(r.zx,{color:"gray",dataTestId:"claim-button",onClick:eo,size:"md",text:t.bt("Claim", "Claim", "ClaimInstagram.ClaimButton.Text", undefined, true)})})]}),(0,w.jsx)(M,{instagramFeedResource:v,loggingFunctions:F,showToast:el,children:({handleUpdateFilterKeywords:e,filterKeywords:t,filterKeywordsUpdating:a})=>(0,w.jsxs)(s.Fragment,{children:[W&&ee===J&&v&&(0,w.jsx)(R,{claimNetwork:U(!1),filterKeywords:t,instagramFeedResource:v,isConnected:W,loggingFunctions:F,onUpdateFilterKeywords:e,showToast:el}),j&&(0,w.jsx)(Y,{filterKeywords:t,filterKeywordsUpdating:a,onDoneWithBackfillSelection:ec,onDoneWithKeywordFiltering:ed,onUpdateFilterKeywords:e,username:y,userProfileUrl:C})]})}),k&&(0,w.jsx)(V,{boardName:v?.data?.[0]?.board?.name,loggingFunctions:F,onDone:()=>{F.logTapBackfillMigrationSuccessDone(),S(!1)},username:y,userProfileUrl:C}),P&&(0,w.jsx)(n.Z,{})]})}},863397:function(e,t,a){a.d(t,{Z:()=>k});var o=a(686659),s=a(667294),i=a(740097),l=a(966502),r=a(230201),n=a(470967),c=a(753806),d=a(465784),u=a(24246),_=a(247387),m=a(952932),h=a(920994),g=a(774855),p=a(217693),f=a(216975),b=a(785893);let x=({domainVerificationCode:e,onChoose:t})=>{(0,s.useEffect)(()=>{(0,o.Z)("ChooseVerifyMethod","/app/www/settings/UserSettingsPage/Claim/ClaimWebsiteModal/ChooseVerifyMethod.tsx")},[]);let a=(0,u.Z)(),[l,r]=(0,s.useState)(!1),[n,c]=(0,s.useState)(!1),[d,_]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),x={boxSizing:"border-box",borderRadius:"4px",cursor:"pointer",padding:4,border:"solid 1px #8E8E8E",position:"relative"},y=`<meta name="p:domain_verify" content="${e}"/>`,C=`pinterest-site-verification=${e}`;return(0,b.jsxs)(s.Fragment,{children:[(0,b.jsx)(i.xu,{alignContent:"center","data-test-id":"choose-verify-method-step",display:"flex",justifyContent:"center",paddingX:10,paddingY:10,children:(0,b.jsx)(i.qd,{size:"700",children:a.bt("Choose how you want to claim", "Choose how you want to claim", "claim.claimwebsitemodal.chooseClaimOption", undefined, true)})}),(0,b.jsxs)(i.xu,{"data-test-id":"choose-verify-method-options",display:"flex",paddingX:3,paddingY:7,children:[(0,b.jsxs)(i.xu,{column:4,dangerouslySetInlineStyle:{__style:{borderRight:"1px solid #E7E5E5"}},direction:"column",display:"flex",paddingX:4,children:[(0,b.jsx)(i.xv,{align:"center",color:"default",weight:"bold",children:a.bt("Add HTML tag", "Add HTML tag", "claim.claimwebsitemodal.copyHTMLOption", undefined, true)}),(0,b.jsx)(i.xu,{paddingY:2,children:(0,b.jsx)(i.xv,{size:"200",children:(0,f.nk)(a.bt("Paste this tag into the <head> section of your website. {{ learnMoreLink }}", "Paste this tag into the <head> section of your website. {{ learnMoreLink }}", "claim.claimwebsitemodal.copyHTMLExplanation", undefined, true),{learnMoreLink:(0,b.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:(0,b.jsx)(i.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/articles/claim-your-website#section-12101",target:"blank",underline:"hover",children:a.bt("Learn more", "Learn More", "claim.claimwebsitemodal.metataghelpCenter", undefined, true)})},"learnMoreLink")})})}),(0,b.jsx)(i.xu,{marginTop:"auto",children:(0,b.jsx)("div",{onFocus:()=>_(!1),onMouseLeave:()=>_(!1),onMouseOver:()=>_(!0),padding:2,children:(0,b.jsx)(g.CopyToClipboard,{onCopy:()=>{r(!0),setTimeout(()=>{r(!1)},700),t("metatag")},text:y,children:(0,b.jsxs)("div",{style:x,children:[(0,b.jsx)(i.xv,{overflow:"breakWord",size:"100",children:y}),l&&(0,b.jsx)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#4A90E2"}},display:"flex",justifyContent:"center",left:!0,opacity:.9,position:"absolute",right:!0,top:!0,children:(0,b.jsx)(i.xv,{size:"100",children:a.bt("Copied!", "Copied!", "claim.claimwebsitemodal.metatagConfirmation", undefined, true)})}),d&&!l&&(0,b.jsx)(i.xu,{alignItems:"center",bottom:!0,color:"tertiary",display:"flex",justifyContent:"center",left:!0,opacity:.9,position:"absolute",right:!0,top:!0,children:(0,b.jsx)(i.xv,{size:"100",children:a.bt("Click to copy", "Click to copy", "claim.claimwebsitemodal.metatagConfirmation", undefined, true)})})]})})})})]}),(0,b.jsxs)(i.xu,{column:4,direction:"column",display:"flex",paddingX:4,children:[(0,b.jsx)(i.xv,{align:"center",color:"default",weight:"bold",children:a.bt("Upload HTML file", "Upload HTML file", "claim.claimwebsitemodal.downloadHMTLOption", undefined, true)}),(0,b.jsx)(i.xu,{paddingY:2,children:(0,b.jsx)(i.xv,{size:"200",children:(0,f.nk)(a.bt("Upload this HTML tag to your website's root directory. {{ learnMoreLink }}", "Upload this HTML tag to your website's root directory. {{ learnMoreLink }}", "claim.claimwebsitemodal.downloadHTMLExplanation", undefined, true),{learnMoreLink:(0,b.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:(0,b.jsx)(i.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/articles/claim-your-website#section-12106",target:"blank",underline:"hover",children:a.bt("Learn more", "Learn More", "claim.claimwebsitemodal.downloadHTMLhelpCenter", undefined, true)})},"learnMoreLink")})})}),(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginEnd:2,marginStart:2,marginTop:"auto",children:(0,b.jsx)(i.zx,{color:"gray",name:"download-button",onClick:()=>{(0,p.Z)("/website/confirm/download/"),t("filename")},text:a.bt("Download", "Download", "claim.claimwebsitemodal.downloadButton", undefined, true)})})]}),(0,b.jsxs)(i.xu,{column:4,dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #E7E5E5"}},direction:"column",display:"flex",paddingX:4,children:[(0,b.jsx)(i.xv,{align:"center",color:"default",weight:"bold",children:a.bt("Add TXT record", "Add TXT record", "claim.claimwebsitemodal.TXTRecordOption", undefined, true)}),(0,b.jsx)(i.xu,{paddingY:2,children:(0,b.jsx)(i.xv,{size:"200",children:(0,f.nk)(a.bt("Add this verification record to your domain host. {{ learnMoreLink }}", "Add this verification record to your domain host. {{ learnMoreLink }}", "claim.claimwebsitemodal.TXTRecordExplanation", undefined, true),{learnMoreLink:(0,b.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:(0,b.jsx)(i.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/articles/claim-your-website#section-14291",target:"blank",underline:"hover",children:a.bt("Learn more", "Learn More", "claim.claimwebsitemodal.TXTRecordExplanation", undefined, true)})},"learnMoreLink")})})}),(0,b.jsx)(i.xu,{marginTop:"auto",children:(0,b.jsx)("div",{onFocus:()=>h(!1),onMouseLeave:()=>h(!1),onMouseOver:()=>h(!0),padding:2,children:(0,b.jsx)(g.CopyToClipboard,{onCopy:()=>{c(!0),setTimeout(()=>{c(!1)},700),t("dnstxt")},text:C,children:(0,b.jsxs)("div",{style:x,children:[(0,b.jsx)(i.xv,{overflow:"breakWord",size:"100",children:C}),n&&(0,b.jsx)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#4A90E2"}},display:"flex",justifyContent:"center",left:!0,opacity:.9,position:"absolute",right:!0,top:!0,children:(0,b.jsx)(i.xv,{overflow:"noWrap",size:"100",children:a.bt("Copied!", "Copied!", "claim.claimwebsitemodal.dnsTXTConfirmation", undefined, true)})}),m&&!n&&(0,b.jsx)(i.xu,{alignItems:"center",bottom:!0,color:"tertiary",display:"flex",justifyContent:"center",left:!0,opacity:.9,position:"absolute",right:!0,top:!0,children:(0,b.jsx)(i.xv,{size:"100",children:a.bt("Click to copy", "Click to copy", "claim.claimwebsitemodal.metatagConfirmation", undefined, true)})})]})})})})]})]})]})};var y=a(581722),C=a(505902),v=a(47755),w=a(766982),P=a.n(w),A=a(218504);function z({onVerified:e,onVerifying:t,verificationMethod:a,bizhub:l}){(0,s.useEffect)(()=>{(0,o.Z)("VerifyWebsite","/app/www/settings/UserSettingsPage/Claim/ClaimWebsiteModal/VerifyWebsite.tsx")},[]);let n=(0,u.Z)(),[c,d]=(0,s.useState)("default"),[_,m]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),{logContextEvent:p}=(0,r.u)(),{refetch:f}=(0,C.DY)(),{refetch:x}=(0,C.aR)(),w=(0,y.I0)(),z=n.bt("Sorry, we were unable to verify your website. Please try again.", "Oops, we are unable to verify your website. Please try again.", "claim.claimwebsitemodal.errorMessage", undefined, true),j=async()=>{a&&(0,v.Z)({url:"/v3/websites/verification/{verification_method}/realtime/",urlParams:{verification_method:a||"metatag"},method:"POST",data:{website:h,can_claim_multiple:!0}}).then(({resource_response:{data:t}})=>{let{status:a,website:o}=t||{};if("success"===a){let t;e(o||""),t=o||"",w((0,A.fm)(t)),d("verified"),g(o||""),x(),f()}else d("default"),m(z)}).catch(({message:e,message_detail:a,api_error_code:o})=>{75===o?(t(h),d("asyncVerifying")):d("default"),m(a||e||z)})},I=()=>{let e;if(l&&p({event_type:101,component:14963,element:14314,view_type:251}),p({event_type:101,component:14963,element:14314}),m(""),"hasFile"==(((e=P()(h)).protocol||(e=P()(`http://${h}`)),e.file)?"hasFile":e.path&&"/"!==e.path?"hasPath":"none"))return void m(n.bt("Files cannot be verified. Add a trailing slash (/) to your path.", "Files cannot be verified. Add a trailing slash (/) to your path.", "claim.claimwebsitemodal.websitePathFileNotSupport", undefined, true));d("verifying"),j()};return(0,b.jsxs)(s.Fragment,{children:["default"===c&&(0,b.jsxs)(s.Fragment,{children:[(0,b.jsx)(i.xu,{alignContent:"center","data-test-id":"verify-website-step",display:"flex",justifyContent:"center",paddingX:10,paddingY:10,children:(0,b.jsx)(i.qd,{size:"700",children:n.bt("Verify", "Verify", "claim.claimwebsitemodal.VerifyHeader", undefined, true)})}),(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:6,paddingY:6,children:(0,b.jsx)(i.xv,{children:n.bt("Enter your website URL below and click the button to verify.", "Enter your website URL below and click the button to verify.", "claim.claimwebsitemodal.Verify", undefined, true)})}),(0,b.jsxs)(i.xu,{alignItems:"start",display:"flex",justifyContent:"center",marginBottom:8,marginTop:11,paddingX:6,children:[(0,b.jsx)(i.xu,{flex:"grow",marginEnd:2,maxWidth:366,children:(0,b.jsx)("form",{onSubmit:I,children:(0,b.jsx)(i.nv,{dataTestId:"verify-website-input",errorMessage:_,id:"websiteURL",onChange:e=>(({value:e})=>{g(e.trim())})(e),placeholder:n.bt("Example: www.pinterest.com", "Example: www.pinterest.com", "claim.claimwebsitemodal.exampleWebsite", undefined, true),size:"lg",value:h})})}),(0,b.jsx)(i.xu,{children:(0,b.jsx)(i.zx,{color:"gray",disabled:!h,fullWidth:!0,name:"verify-button",onClick:I,size:"lg",text:n.bt("Verify", "Verify", "claim.claimwebsitemodal.verifyButton", undefined, true)})})]})]}),"verifying"===c&&(0,b.jsxs)(i.xu,{paddingX:6,paddingY:10,children:[(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:10,children:(0,b.jsx)(i.xH,{accessibilityLabel:n.bt("Loading", "Loading", "claim.claimwebsitemodal.Loading", undefined, true),show:!0})}),(0,b.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,b.jsx)(i.qd,{children:n.bt("Verifying your website", "Verifying your website", "claim.claimwebsitemodal.verifyingMessage", undefined, true)})}),(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:(0,b.jsx)(i.xv,{size:"200",children:n.bt("Let's see if everything is connected.", "Let's see if everything is connected.", "claim.claimwebsitemodal.verifyconnectionMessage", undefined, true)})})]}),"verified"===c&&(0,b.jsxs)(i.xu,{paddingX:6,paddingY:9,children:[(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,marginTop:10,children:(0,b.jsx)(i.JO,{accessibilityLabel:n.bt("Verified", "Verified", "claim.claimwebsitemodal.verifiedMessage", undefined, true),color:"success",icon:"check-circle",size:48})}),(0,b.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,b.jsx)(i.qd,{children:n.bt("Connected", "Connected", "claim.claimwebsitemodal.connectedconfirmationMessage", undefined, true)})}),(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:2,children:(0,b.jsx)(i.xv,{size:"200",children:n.bt("You're all set!", "You're all set!", "claim.claimwebsitemodal.finalMessage", undefined, true)})}),(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:1,children:(0,b.jsx)(i.xv,{color:"subtle",size:"200",children:h})})]}),"asyncVerifying"===c&&(0,b.jsxs)(i.xu,{paddingX:6,paddingY:9,children:[(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,marginTop:10,children:(0,b.jsx)(i.JO,{accessibilityLabel:n.bt("Verification in progress", "Verification in progress", "claim.claimwebsitemodal.verifyingMessageIcon", undefined, true),color:"success",icon:"clock",size:48})}),(0,b.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,b.jsx)(i.qd,{children:n.bt("Verification in progress", "Verification in progress", "claim.claimwebsitemodal.verificationInProgress", undefined, true)})}),(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:2,children:(0,b.jsx)(i.xv,{size:"200",children:n.bt("Your website is in the process of being claimed. We will email you within the next hour with an update.", "Your website is in the process of being claimed. We will email you within the next hour with an update.", "claim.claimwebsitemodal.verificationMessage", undefined, true)})}),(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:1,children:(0,b.jsx)(i.xv,{color:"subtle",size:"200",children:h})})]})]})}var j=a(767415);function I(e,t){let a=(e||"default").replace(/ /g,"");(0,j.nP)(`web.partner.claimWebsiteTagUpsell.${a}.${t}`,{sampleRate:1})}let k=(0,c.RL)(1000298)(({onHide:e,onDone:t,domainVerificationCode:a,experience:g,bizhub:p})=>{(0,s.useEffect)(()=>{(0,o.Z)("ClaimWebsiteModal","/app/www/settings/UserSettingsPage/Claim/ClaimWebsiteModal/ClaimWebsiteModal.tsx")},[]);let{logContextEvent:f}=(0,r.u)(),y=(0,u.Z)(),[C,v]=(0,s.useState)(1),[w,P]=(0,s.useState)(""),[A,j]=(0,s.useState)(null),k=(0,c.oS)(502468),S=w&&g&&502468===g.experience_id,T=g?.display_data?.tag_integration||"",E=g?.display_data?.in_woocommerce_exp||"";(0,s.useEffect)(()=>{p&&f({event_type:120,component:13624,view_type:251}),f({event_type:120,component:13624}),k.viewExperience(1000298,502468),I(T,"render")},[S]);let B=()=>{S&&(f({event_type:101,component:13624,element:11925}),k.dismissExperience(1000298,502468),I(T,"dismiss")),p&&f({event_type:120,element:11925,component:13624,view_type:251}),e()},Z=e=>{v(e),p&&1===e&&f({event_type:101,component:13624,element:34,view_type:251}),p&&2===e&&f({event_type:101,component:13624,element:12019,view_type:251})},R=E?_.oit:(0,m.E)(T||"default"),O=R.includes("shopify")||R===_.oit;return(0,b.jsxs)(d.ZP,{accessibilityModalLabel:y.bt("Claim your website", "Claim your website", "claim.claimwebsitemodal.modalLabel", undefined, true),footer:S?(0,b.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,b.jsx)(i.xv,{size:"200",children:(0,h.S)(T,y)||y.bt("To track how well ads drive conversion events on your claimed site, install the Pinterest Tag.", "To track how well ads drive conversion events on your claimed site, install the Pinterest tag.", "claim.claimwebsitemodal.installTagUpsell", undefined, true)}),(0,b.jsx)(i.xu,{flex:"none",marginStart:3,children:(0,b.jsx)(i.ZP,{color:"red",dataTestId:"install-tag-button",fullWidth:!0,href:R,onClick:()=>{f({event_type:101,component:13624,element:11926}),k.completeExperience(1000298,502468),I(T,"complete")},target:O?"blank":null,text:y.bt("Install tag", "Install tag", "claim.claimwebsitemodal.tag_upsell_step.install", undefined, true)})})]}):(0,b.jsxs)(i.xu,{display:"flex",padding:2,children:[(0,b.jsx)(i.xu,{flex:"grow",children:(w||A)&&(!A||1!==C)?(0,b.jsx)(i.zx,{name:"back-button",onClick:()=>Z(1),text:y.bt("Back", "Back", "claim.claimwebsitemodal.backButton", undefined, true)}):(0,b.jsx)(i.zx,{name:"cancel-button",onClick:B,text:y.bt("Cancel", "Cancel", "claim.claimwebsitemodal.cancelButton", undefined, true)})}),(0,b.jsxs)(i.xu,{"data-test-id":"continue-button",display:"flex",flex:"grow",justifyContent:"end",children:[1===C&&(0,b.jsx)(i.zx,{color:"red",disabled:!A,name:"continue-button",onClick:()=>{Z(2)},text:y.bt("Continue", "Continue", "claim.claimwebsitemodal.nextButton", undefined, true)}),2===C&&w&&(0,b.jsx)(i.zx,{color:"red",name:"done-button",onClick:()=>{p&&f({event_type:101,component:13624,element:11926,view_type:251}),n.t8(l.T7,"1",(0,n.kZ)(l.T7)),t()},text:y.bt("Done", "Done", "claim.claimwebsitemodal.doneButton", undefined, true)})]})]}),onDismiss:B,size:"md",children:[1===C&&(0,b.jsx)(x,{domainVerificationCode:a,onChoose:e=>{j(e)}}),2===C&&(0,b.jsx)(z,{bizhub:!0,onVerified:P,onVerifying:P,verificationMethod:A})]})})},523421:function(e,t,a){a.d(t,{d2:()=>o,mB:()=>i,vE:()=>s});let o={HALF_YEAR:"half_year",NONE:"none",QUARTER:"quarter",YEAR:"year"},s={UNCLAIM:"unclaim",AMAZON_STOREFRONT_LINKING:"amazon_storefront_linking",AMAZON_STOREFRONT_LINKING_INTERSTITIAL:"amazon_storefront_linking_interstitial"},i={AIP_LINKED_ONLY:"aip_linked_only",INELIGIBLE:"ineligible",LINKING:"linking",NOT_LINKED:"not_linked",STOREFRONT_AND_AIP_LINKED:"storefront_and_aip_linked"}},743841:function(e,t,a){a.d(t,{I:()=>c,p:()=>n});var o=a(667294),s=a(213491),i=a(661376),l=a(785893);let{Provider:r,get:n}=(0,s.Z)("InstagramFeedData"),c=({children:e})=>{let t=(0,i.Z)({name:"ApiResource",options:{url:"/v3/feed_ingestion/feeds/instagram/",field_sets:["instagramfeed.id","instagramfeed.type","instagramfeed.board()","instagramfeed.section()","instagramfeed.is_ingestion_enabled","instagramfeed.fallback_board()","instagramfeed.filter_keywords","board.id","board.name","board.url","boardsection.id","boardsection.title","boardsection.slug"]}}),a=(0,o.useMemo)(()=>({instagramFeedResource:t}),[t]);return(0,l.jsx)(r,{value:a,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/7236.en_GB-332f16402a2cda26.mjs.map